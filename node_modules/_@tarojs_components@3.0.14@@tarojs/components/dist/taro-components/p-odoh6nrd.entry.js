import{r as t,c as s,h as o,g as e}from"./p-afb5cad8.js";const i=class{constructor(o){t(this,o),this.value={},this.onSubmit=s(this,"submit",7)}onButtonSubmit(t){t.stopPropagation(),this.value=this.getFormValue(),this.onSubmit.emit({value:this.value})}onButtonReset(t){t.stopPropagation(),this.form.reset()}componentDidLoad(){this.value=this.getFormValue(),Object.defineProperty(this.el,"value",{get:()=>this.value,configurable:!0})}getFormValue(){const t=this.el,s=[],o=t.getElementsByTagName("input");for(let n=0;n<o.length;n++)s.push(o[n]);const e={},i={};s.forEach(t=>{-1===t.className.indexOf("weui-switch")?"radio"!==t.type?"checkbox"!==t.type?e[t.name]=t.value:t.checked?i[t.name]?e[t.name].push(t.value):(i[t.name]=!0,e[t.name]=[t.value]):i[t.name]||(e[t.name]=[]):t.checked?(i[t.name]=!0,e[t.name]=t.value):i[t.name]||(e[t.name]=""):e[t.name]=t.checked});const r=t.getElementsByTagName("textarea"),h=[];for(let n=0;n<r.length;n++)h.push(r[n]);return h.forEach(t=>{e[t.name]=t.value}),e}render(){return o("form",{ref:t=>{t&&(this.form=t)}},o("slot",null))}get el(){return e(this)}};export{i as taro_form_core};
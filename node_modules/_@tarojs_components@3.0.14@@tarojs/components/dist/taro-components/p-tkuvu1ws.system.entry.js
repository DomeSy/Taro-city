System.register(["./p-7d28c317.system.js"],(function(t){"use strict";var e,n,i,o;return{setters:[function(t){e=t.r;n=t.c;i=t.h;o=t.g}],execute:function(){function s(t,e,n){if(!t){throw new Error("unexpected type")}if(e==="search")t="search";if(n)t="password";if(t==="digit")t="number";return t}function u(t){return t!==null&&t!==void 0?t:""}var r=t("taro_input_core",function(){function t(t){var i=this;e(this,t);this.isOnComposition=false;this.onInputExcuted=false;this.type="text";this.password=false;this.disabled=false;this.maxlength=140;this.autoFocus=false;this.confirmType="done";this.hanldeInput=function(t){t.stopPropagation();var e=i,n=e.type,o=e.maxlength,u=e.confirmType,r=e.password;if(!i.isOnComposition&&!i.onInputExcuted){var a=t.target.value;var h=s(n,u,r);i.onInputExcuted=true;if(h==="number"&&a&&o<=a.length){a=a.substring(0,o);t.target.value=a}i.onInput.emit({value:a,cursor:a.length})}};this.handleFocus=function(t){i.onInputExcuted=false;i.onFocus.emit({value:t.target.value})};this.handleBlur=function(t){i.onBlur.emit({value:t.target.value})};this.handleChange=function(t){t.stopPropagation();i.onChange.emit({value:t.target.value})};this.handleKeyDown=function(t){var e=t.target.value;i.onInputExcuted=false;t.stopPropagation();i.onKeyDown.emit({value:e});t.keyCode===13&&i.onConfirm.emit({value:e})};this.handleComposition=function(t){if(!(t.target instanceof HTMLInputElement))return;if(t.type==="compositionend"){i.isOnComposition=false;i.onInput.emit({value:t.target.value})}else{i.isOnComposition=true}};this.onInput=n(this,"input",7);this.onFocus=n(this,"focus",7);this.onBlur=n(this,"blur",7);this.onConfirm=n(this,"confirm",7);this.onChange=n(this,"change",7);this.onKeyDown=n(this,"keydown",7)}t.prototype.componentDidLoad=function(){var t=this;if(this.type==="file"){this.fileListener=function(){t.onInput.emit()};this.inputRef.addEventListener("change",this.fileListener)}else{this.inputRef.addEventListener("compositionstart",this.handleComposition);this.inputRef.addEventListener("compositionend",this.handleComposition)}Object.defineProperty(this.el,"value",{get:function(){return t.inputRef.value},set:function(e){return t.value=e},configurable:true})};t.prototype.componentDidUnload=function(){if(this.type==="file"){this.inputRef.removeEventListener("change",this.fileListener)}};t.prototype.render=function(){var t=this;var e=this,n=e.value,o=e.type,r=e.password,a=e.placeholder,h=e.disabled,l=e.maxlength,p=e.autoFocus,c=e.confirmType,f=e.name;return i("input",{ref:function(e){t.inputRef=e;p&&(e===null||e===void 0?void 0:e.focus())},class:"weui-input",value:u(n),type:s(o,c,r),placeholder:a,disabled:h,maxlength:l,autofocus:p,name:f,onInput:this.hanldeInput,onFocus:this.handleFocus,onBlur:this.handleBlur,onChange:this.handleChange,onKeyDown:this.handleKeyDown})};Object.defineProperty(t.prototype,"el",{get:function(){return o(this)},enumerable:true,configurable:true});Object.defineProperty(t,"style",{get:function(){return"input,taro-input-core{display:block}input{height:1.4rem;text-align:inherit;text-overflow:clip;overflow:hidden;white-space:nowrap}"},enumerable:true,configurable:true});return t}())}}}));
{"version":3,"file":"index.js","sources":["../../nerv-utils/dist/index.js","../src/current-owner.ts","../../nerv-shared/dist/index.js","../src/vdom/ref.ts","../src/passive-event.ts","../src/event.ts","../src/vdom/unmount.ts","../src/vdom/svg-property-config.ts","../src/vdom/patch.ts","../src/vdom/create-element.ts","../src/vdom/create-vtext.ts","../src/vdom/create-void.ts","../src/hooks.ts","../src/lifecycle.ts","../src/render-queue.ts","../src/component.ts","../src/pure-component.ts","../src/options.ts","../src/render.ts","../src/vdom/create-vnode.ts","../src/vdom/h.ts","../src/full-component.ts","../src/create-element.ts","../src/clone-element.ts","../src/children.ts","../src/hydrate.ts","../src/vdom/create-portal.ts","../src/version.ts","../src/dom.ts","../src/prop-types.ts","../src/create-ref.ts","../src/memo.ts","../src/emiter.ts","../src/create-context.ts","../src/fragment.ts","../src/index.ts"],"sourcesContent":["// tslint:disable-next-line\r\nvar global = (function () {\r\n    let local;\r\n    if (typeof global !== 'undefined') {\r\n        local = global;\r\n    }\r\n    else if (typeof self !== 'undefined') {\r\n        local = self;\r\n    }\r\n    else {\r\n        try {\r\n            // tslint:disable-next-line:function-constructor\r\n            local = Function('return this')();\r\n        }\r\n        catch (e) {\r\n            throw new Error('global object is unavailable in this environment');\r\n        }\r\n    }\r\n    return local;\r\n})();\r\nconst isBrowser = typeof window !== 'undefined';\r\n// tslint:disable-next-line:no-empty\r\nfunction noop() { }\r\nconst fakeDoc = {\r\n    createElement: noop,\r\n    createElementNS: noop,\r\n    createTextNode: noop\r\n};\r\nconst doc = isBrowser ? document : fakeDoc;\r\nconst UA = isBrowser && window.navigator.userAgent.toLowerCase();\r\nconst isMacSafari = isBrowser && UA && window.navigator.platform &&\r\n    /mac/i.test(window.navigator.platform) && /^((?!chrome|android).)*safari/i.test(UA);\r\nconst isTaro = isBrowser && !document.scripts;\r\nconst isIE9 = UA && UA.indexOf('msie 9.0') > 0;\r\nconst isiOS = (UA && /iphone|ipad|ipod|ios/.test(UA));\n\nfunction isNumber(arg) {\r\n    return typeof arg === 'number';\r\n}\r\nconst isSupportSVG = isFunction(doc.createAttributeNS);\r\nfunction isString(arg) {\r\n    return typeof arg === 'string';\r\n}\r\nfunction isFunction(arg) {\r\n    return typeof arg === 'function';\r\n}\r\nfunction isBoolean(arg) {\r\n    return arg === true || arg === false;\r\n}\r\nconst isArray = Array.isArray;\r\nfunction isObject(arg) {\r\n    return arg === Object(arg) && !isFunction(arg);\r\n}\r\nfunction isNative(Ctor) {\r\n    return isFunction(Ctor) && /native code/.test(Ctor.toString());\r\n}\r\nfunction isUndefined(o) {\r\n    return o === undefined;\r\n}\r\n// Object.is polyfill\r\n// https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/is\r\nfunction objectIs(x, y) {\r\n    if (x === y) { // Steps 1-5, 7-10\r\n        // Steps 6.b-6.e: +0 != -0\r\n        return x !== 0 || 1 / x === 1 / y;\r\n    }\r\n    // eslint-disable-next-line no-self-compare\r\n    return x !== x && y !== y;\r\n}\n\nconst canUsePromise = 'Promise' in global && !isMacSafari;\r\nlet resolved;\r\nif (canUsePromise) {\r\n    resolved = Promise.resolve();\r\n}\r\nconst nextTick = (fn, ...args) => {\r\n    fn = isFunction(fn) ? fn.bind(null, ...args) : fn;\r\n    if (canUsePromise) {\r\n        return resolved.then(fn);\r\n    }\r\n    const timerFunc = 'requestAnimationFrame' in global && !isMacSafari ? requestAnimationFrame : setTimeout;\r\n    timerFunc(fn);\r\n};\n\n/* istanbul ignore next */\r\n// tslint:disable-next-line\r\nObject.is = Object.is || function (x, y) {\r\n    if (x === y) {\r\n        return x !== 0 || 1 / x === 1 / y;\r\n    }\r\n    return x !== x && y !== y;\r\n};\r\nfunction shallowEqual(obj1, obj2) {\r\n    if (obj1 === null || obj2 === null) {\r\n        return false;\r\n    }\r\n    if (Object.is(obj1, obj2)) {\r\n        return true;\r\n    }\r\n    const obj1Keys = obj1 ? Object.keys(obj1) : [];\r\n    const obj2Keys = obj2 ? Object.keys(obj2) : [];\r\n    if (obj1Keys.length !== obj2Keys.length) {\r\n        return false;\r\n    }\r\n    for (let i = 0; i < obj1Keys.length; i++) {\r\n        const obj1KeyItem = obj1Keys[i];\r\n        if (!obj2.hasOwnProperty(obj1KeyItem) || !Object.is(obj1[obj1KeyItem], obj2[obj1KeyItem])) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\n\nclass SimpleMap {\r\n    constructor() {\r\n        this.cache = [];\r\n        this.size = 0;\r\n    }\r\n    set(k, v) {\r\n        const len = this.cache.length;\r\n        if (!len) {\r\n            this.cache.push({ k, v });\r\n            this.size += 1;\r\n            return;\r\n        }\r\n        for (let i = 0; i < len; i++) {\r\n            const item = this.cache[i];\r\n            if (item.k === k) {\r\n                item.v = v;\r\n                return;\r\n            }\r\n        }\r\n        this.cache.push({ k, v });\r\n        this.size += 1;\r\n    }\r\n    get(k) {\r\n        const len = this.cache.length;\r\n        if (!len) {\r\n            return;\r\n        }\r\n        for (let i = 0; i < len; i++) {\r\n            const item = this.cache[i];\r\n            if (item.k === k) {\r\n                return item.v;\r\n            }\r\n        }\r\n    }\r\n    has(k) {\r\n        const len = this.cache.length;\r\n        if (!len) {\r\n            return false;\r\n        }\r\n        for (let i = 0; i < len; i++) {\r\n            const item = this.cache[i];\r\n            if (item.k === k) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    delete(k) {\r\n        const len = this.cache.length;\r\n        for (let i = 0; i < len; i++) {\r\n            const item = this.cache[i];\r\n            if (item.k === k) {\r\n                this.cache.splice(i, 1);\r\n                this.size -= 1;\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    clear() {\r\n        let len = this.cache.length;\r\n        this.size = 0;\r\n        if (!len) {\r\n            return;\r\n        }\r\n        while (len) {\r\n            this.cache.pop();\r\n            len--;\r\n        }\r\n    }\r\n}\r\nconst MapClass = 'Map' in global ? Map : SimpleMap;\n\nfunction getPrototype(obj) {\r\n    /* istanbul ignore next */\r\n    if (Object.getPrototypeOf) {\r\n        return Object.getPrototypeOf(obj);\r\n    }\r\n    else if (obj.__proto__) {\r\n        return obj.__proto__;\r\n    }\r\n    /* istanbul ignore next */\r\n    return obj.constructor.prototype;\r\n}\r\nfunction isAttrAnEvent(attr) {\r\n    return attr[0] === 'o' && attr[1] === 'n';\r\n}\r\nconst extend = (() => {\r\n    if ('assign' in Object) {\r\n        return (source, from) => {\r\n            if (!from) {\r\n                return source;\r\n            }\r\n            Object.assign(source, from);\r\n            return source;\r\n        };\r\n    }\r\n    else {\r\n        return (source, from) => {\r\n            if (!from) {\r\n                return source;\r\n            }\r\n            for (const key in from) {\r\n                if (from.hasOwnProperty(key)) {\r\n                    source[key] = from[key];\r\n                }\r\n            }\r\n            return source;\r\n        };\r\n    }\r\n})();\r\nfunction clone(obj) {\r\n    return extend({}, obj);\r\n}\n\nexport { getPrototype, isAttrAnEvent, extend, clone, nextTick, shallowEqual, SimpleMap, MapClass, isNumber, isSupportSVG, isString, isFunction, isBoolean, isArray, isObject, isNative, isUndefined, objectIs, global, isBrowser, doc, UA, isMacSafari, isTaro, isIE9, isiOS };\n//# sourceMappingURL=index.js.map\n","import Component from './component'\n\nconst Current: {\n  current: null | Component<any, any>,\n  index: number\n} = {\n  current: null,\n  index: 0\n}\n\nexport default Current\n","const EMPTY_CHILDREN = [];\r\nconst EMPTY_OBJ = {};\r\nfunction isNullOrUndef(o) {\r\n    return o === undefined || o === null;\r\n}\r\nfunction isInvalid(o) {\r\n    return isNullOrUndef(o) || o === true || o === false;\r\n}\r\nfunction isVNode(node) {\r\n    return !isNullOrUndef(node) && node.vtype === 2 /* Node */;\r\n}\r\nfunction isVText(node) {\r\n    return !isNullOrUndef(node) && node.vtype === 1 /* Text */;\r\n}\r\nfunction isComponent(instance) {\r\n    return !isInvalid(instance) && instance.isReactComponent === EMPTY_OBJ;\r\n}\r\nfunction isWidget(node) {\r\n    return (!isNullOrUndef(node) &&\r\n        (node.vtype & (4 /* Composite */)) > 0);\r\n}\r\nfunction isPortal(vtype, node) {\r\n    return (vtype & 32 /* Portal */) > 0;\r\n}\r\nfunction isComposite(node) {\r\n    return !isNullOrUndef(node) && node.vtype === 4 /* Composite */;\r\n}\r\nfunction isValidElement(node) {\r\n    return !isNullOrUndef(node) && node.vtype;\r\n}\r\nfunction isHook(arg) {\r\n    return !isNullOrUndef(arg) && typeof arg.vhook === 'number';\r\n}\r\n// tslint:disable-next-line:no-empty\r\nfunction noop() { }\r\n// typescript will compile the enum's value for us.\r\n// eg.\r\n// Composite = 1 << 2  => Composite = 4\r\nvar VType;\r\n(function (VType) {\r\n    VType[VType[\"Text\"] = 1] = \"Text\";\r\n    VType[VType[\"Node\"] = 2] = \"Node\";\r\n    VType[VType[\"Composite\"] = 4] = \"Composite\";\r\n    VType[VType[\"Void\"] = 16] = \"Void\";\r\n    VType[VType[\"Portal\"] = 32] = \"Portal\";\r\n})(VType || (VType = {}));\n\nexport { EMPTY_CHILDREN, EMPTY_OBJ, isNullOrUndef, isInvalid, isVNode, isVText, isComponent, isWidget, isPortal, isComposite, isValidElement, isHook, noop, VType };\n//# sourceMappingURL=index.js.map\n","import { isFunction, isString, isObject } from 'nerv-utils'\nimport { isComposite } from 'nerv-shared'\nimport { errorCatcher } from '../lifecycle'\nexport default {\n  update (lastVnode, nextVnode, domNode?) {\n    const prevRef = lastVnode != null && lastVnode.ref\n    const nextRef = nextVnode != null && nextVnode.ref\n\n    if (prevRef !== nextRef) {\n      this.detach(lastVnode, prevRef, lastVnode.dom)\n      this.attach(nextVnode, nextRef, domNode)\n    }\n  },\n  attach (vnode, ref, domNode: Element) {\n    const node = isComposite(vnode) ? vnode.component : domNode\n    if (isFunction(ref)) {\n      const componentForCatcher = isComposite(vnode) ? vnode.component : vnode\n      errorCatcher(() => {\n        ref(node)\n      }, componentForCatcher)\n    } else if (isString(ref)) {\n      const inst = vnode._owner\n      if (inst && isFunction(inst.render)) {\n        inst.refs[ref] = node\n      }\n    } else if (isObject(ref)) {\n      ref.current = node\n    }\n  },\n  detach (vnode, ref, domNode: Element) {\n    const node = isComposite(vnode) ? vnode.component : domNode\n    if (isFunction(ref)) {\n      const componentForCatcher = isComposite(vnode) ? vnode.component : vnode\n      errorCatcher(() => {\n        ref(null)\n      }, componentForCatcher)\n    } else if (isString(ref)) {\n      const inst = vnode._owner\n      if (inst.refs[ref] === node && isFunction(inst.render)) {\n        delete inst.refs[ref]\n      }\n    } else if (isObject(ref)) {\n      ref.current = null\n    }\n  }\n}\n","const defaultOptions = {\n  passive: false,\n  capture: false\n}\n\nconst eventListenerOptionsSupported = () => {\n  let supported = false\n\n  try {\n    const opts = Object.defineProperty({}, 'passive', {\n      get () {\n        supported = true\n      }\n    })\n    window.addEventListener('test', null as any, opts)\n    window.removeEventListener('test', null as any, opts)\n  } catch (e) {\n    supported = false\n  }\n\n  return supported\n}\n\nfunction getDefaultPassiveOption () {\n  const passiveOption = !eventListenerOptionsSupported() ? false : defaultOptions\n  return () => {\n    return passiveOption\n  }\n}\n\nconst getPassiveOption = getDefaultPassiveOption()\n\nexport const supportedPassiveEventMap = {\n  scroll: getPassiveOption(),\n  wheel: getPassiveOption(),\n  touchstart: getPassiveOption(),\n  touchmove: getPassiveOption(),\n  touchenter: getPassiveOption(),\n  touchend: getPassiveOption(),\n  touchleave: getPassiveOption(),\n  mouseout: getPassiveOption(),\n  mouseleave: getPassiveOption(),\n  mouseup: getPassiveOption(),\n  mousedown: getPassiveOption(),\n  mousemove: getPassiveOption(),\n  mouseenter: getPassiveOption(),\n  mousewheel: getPassiveOption(),\n  mouseover: getPassiveOption()\n}\n","import { isFunction, MapClass, doc, isiOS, isIE9, isTaro } from 'nerv-utils'\nimport { noop } from 'nerv-shared'\nimport { supportedPassiveEventMap } from './passive-event'\n\nconst ONINPUT = 'oninput'\nconst ONPROPERTYCHANGE = 'onpropertychange'\n\nconst delegatedEvents = new MapClass()\n\nconst unbubbleEvents = {\n  [ONPROPERTYCHANGE]: 1,\n  onmousemove: 1,\n  ontouchmove: 1,\n  onmouseleave: 1,\n  onmouseenter: 1,\n  onload: 1,\n  onunload: 1,\n  onscroll: 1,\n  onfocus: 1,\n  onblur: 1,\n  onrowexit: 1,\n  onbeforeunload: 1,\n  onstop: 1,\n  ondragdrop: 1,\n  ondragenter: 1,\n  ondragexit: 1,\n  ondraggesture: 1,\n  ondragover: 1,\n  oncontextmenu: 1,\n  onerror: 1,\n  onabort: 1,\n  oncanplay: 1,\n  oncanplaythrough: 1,\n  ondurationchange: 1,\n  onemptied: 1,\n  onended: 1,\n  onloadeddata: 1,\n  onloadedmetadata: 1,\n  onloadstart: 1,\n  onencrypted: 1,\n  onpause: 1,\n  onplay: 1,\n  onplaying: 1,\n  onprogress: 1,\n  onratechange: 1,\n  onseeking: 1,\n  onseeked: 1,\n  onstalled: 1,\n  onsuspend: 1,\n  ontimeupdate: 1,\n  onvolumechange: 1,\n  onwaiting: 1\n}\n\nconst bindFocus = false\ndeclare global {\n  interface Event {\n    persist: Function\n  }\n}\n\n/* istanbul ignore next */\nif (isIE9) {\n  const elements: HTMLInputElement[] = []\n  const values: string[] = []\n  doc.addEventListener('selectionchange', () => {\n    const el = doc.activeElement as HTMLInputElement\n    if (detectCanUseOnInputNode(el)) {\n      const index = elements.indexOf(el)\n      const element = elements[index] || elements.push(el)\n      if (element.value !== values[index]) {\n        const ev = doc.createEvent('CustomEvent')\n        ev.initCustomEvent('input', true, true, undefined)\n        values[index] = element.value\n        el.dispatchEvent(ev)\n      }\n    }\n  })\n}\n\nif (typeof Event !== 'undefined' && !Event.prototype.persist) {\n  // tslint:disable-next-line:no-empty\n  Event.prototype.persist = noop\n}\n\nexport function attachEvent (\n  domNode: Element,\n  eventName: string,\n  handler: Function\n) {\n  eventName = fixEvent(domNode, eventName)\n  /* istanbul ignore next */\n  if (eventName === ONPROPERTYCHANGE) {\n    processOnPropertyChangeEvent(domNode, handler)\n    return\n  }\n  let delegatedRoots = delegatedEvents.get(eventName)\n  if (unbubbleEvents[eventName] === 1 || isTaro) {\n    if (!delegatedRoots) {\n      delegatedRoots = new MapClass()\n    }\n    const event = attachEventToNode(domNode, eventName, delegatedRoots)\n    delegatedEvents.set(eventName, delegatedRoots)\n    if (isFunction(handler)) {\n      delegatedRoots.set(domNode, {\n        eventHandler: handler,\n        event\n      })\n    }\n  } else {\n    if (!delegatedRoots) {\n      delegatedRoots = {\n        items: new MapClass()\n      }\n      delegatedRoots.event = attachEventToDocument(\n        doc,\n        eventName,\n        delegatedRoots\n      )\n      delegatedEvents.set(eventName, delegatedRoots)\n    }\n    if (isFunction(handler)) {\n      if (isiOS) {\n        (domNode as any).onclick = noop\n      }\n      delegatedRoots.items.set(domNode, handler)\n    }\n  }\n}\n\nexport function detachEvent (\n  domNode: Element,\n  eventName: string,\n  handler: Function\n) {\n  eventName = fixEvent(domNode, eventName)\n  if (eventName === ONPROPERTYCHANGE) {\n    return\n  }\n  const delegatedRoots = delegatedEvents.get(eventName)\n  if ((unbubbleEvents[eventName] === 1 && delegatedRoots) || isTaro) {\n    const event = delegatedRoots.get(domNode)\n    if (event) {\n      domNode.removeEventListener(parseEventName(eventName), event.event, false)\n      /* istanbul ignore next */\n      const delegatedRootsSize = delegatedRoots.size\n      if (delegatedRoots.delete(domNode) && delegatedRootsSize === 0) {\n        delegatedEvents.delete(eventName)\n      }\n    }\n  } else if (delegatedRoots && delegatedRoots.items) {\n    const items = delegatedRoots.items\n    if (items.delete(domNode) && items.size === 0) {\n      doc.removeEventListener(\n        parseEventName(eventName),\n        delegatedRoots.event,\n        false\n      )\n      delegatedEvents.delete(eventName)\n    }\n  }\n}\n\nlet propertyChangeActiveElement\nlet propertyChangeActiveElementValue\nlet propertyChangeActiveElementValueProp\nconst propertyChangeActiveHandlers = {}\n\n/* istanbul ignore next */\nfunction propertyChangeHandler (event) {\n  if (event.propertyName !== 'value') {\n    return\n  }\n  const target = event.target || event.srcElement\n  const val = target.value\n  if (val === propertyChangeActiveElementValue) {\n    return\n  }\n  propertyChangeActiveElementValue = val\n  const handler = propertyChangeActiveHandlers[target.name]\n  if (isFunction(handler)) {\n    handler.call(target, event)\n  }\n}\n\n/* istanbul ignore next */\nfunction processOnPropertyChangeEvent (node, handler) {\n  propertyChangeActiveHandlers[node.name] = handler\n  if (!bindFocus) {\n    // bindFocus = true\n    node.addEventListener(\n      'focusin',\n      () => {\n        unbindOnPropertyChange()\n        bindOnPropertyChange(node)\n      },\n      false\n    )\n    node.addEventListener('focusout', unbindOnPropertyChange, false)\n  }\n}\n\n/* istanbul ignore next */\nfunction bindOnPropertyChange (node) {\n  propertyChangeActiveElement = node\n  propertyChangeActiveElementValue = node.value\n  propertyChangeActiveElementValueProp = Object.getOwnPropertyDescriptor(\n    node.constructor.prototype,\n    'value'\n  )\n  Object.defineProperty(propertyChangeActiveElement, 'value', {\n    get () {\n      return propertyChangeActiveElementValueProp.get.call(this)\n    },\n    set (val) {\n      propertyChangeActiveElementValue = val\n      propertyChangeActiveElementValueProp.set.call(this, val)\n    }\n  })\n  propertyChangeActiveElement.addEventListener(\n    'propertychange',\n    propertyChangeHandler,\n    false\n  )\n}\n\n/* istanbul ignore next */\nfunction unbindOnPropertyChange () {\n  if (!propertyChangeActiveElement) {\n    return\n  }\n  delete propertyChangeActiveElement.value\n  propertyChangeActiveElement.removeEventListener(\n    'propertychange',\n    propertyChangeHandler,\n    false\n  )\n\n  propertyChangeActiveElement = null\n  propertyChangeActiveElementValue = null\n  propertyChangeActiveElementValueProp = null\n}\n\nfunction detectCanUseOnInputNode (node) {\n  const nodeName = node.nodeName && node.nodeName.toLowerCase()\n  const type = node.type\n  return (\n    (nodeName === 'input' && /text|password/.test(type)) ||\n    nodeName === 'textarea'\n  )\n}\n\nfunction fixEvent (node: Element, eventName: string) {\n  if (isTaro && eventName === 'onClick') {\n    eventName = 'onTap'\n  }\n  if (eventName === 'onDoubleClick') {\n    eventName = 'ondblclick'\n  } else if (eventName === 'onTouchTap') {\n    eventName = 'onclick'\n    // tslint:disable-next-line:prefer-conditional-expression\n  } else if (eventName === 'onChange' && detectCanUseOnInputNode(node)) {\n    eventName = ONINPUT in window ? ONINPUT : ONPROPERTYCHANGE\n  } else {\n    eventName = eventName.toLowerCase()\n  }\n  return eventName\n}\n\nfunction parseEventName (name) {\n  return name.substr(2)\n}\n/* istanbul ignore next */\nfunction stopPropagation () {\n  this.cancelBubble = true\n  this.stopImmediatePropagation()\n}\n\nfunction dispatchEvent (event, target, items, count, eventData) {\n  const eventsToTrigger = items.get(target)\n  if (eventsToTrigger) {\n    count--\n    eventData.currentTarget = target\n    // for React synthetic event compatibility\n    Object.defineProperties(event, {\n      nativeEvent: {\n        value: event\n      }\n    })\n    eventsToTrigger(event)\n    if (event.cancelBubble) {\n      return\n    }\n  }\n  if (count > 0) {\n    const parentDom = target.parentNode\n    if (\n      parentDom === null ||\n      (event.type === 'click' && parentDom.nodeType === 1 && parentDom.disabled)\n    ) {\n      return\n    }\n    dispatchEvent(event, parentDom, items, count, eventData)\n  }\n}\n\nfunction attachEventToDocument (d, eventName, delegatedRoots) {\n  const eventHandler = (event) => {\n    const items = delegatedRoots.items\n    const count = items.size\n    if (count > 0) {\n      const eventData = {\n        currentTarget: event.target\n      }\n      /* istanbul ignore next */\n      try {\n        Object.defineProperties(event, {\n          currentTarget: {\n            configurable: true,\n            get () {\n              return eventData.currentTarget\n            }\n          },\n          stopPropagation: {\n            value: stopPropagation\n          }\n        })\n      } catch (error) {\n        // some browsers crashed\n        // see: https://stackoverflow.com/questions/44052813/why-cannot-redefine-property\n      }\n      dispatchEvent(event, event.target, delegatedRoots.items, count, eventData)\n    }\n  }\n  const parsedEventName = parseEventName(eventName)\n  d.addEventListener(parsedEventName, eventHandler, supportedPassiveEventMap[parsedEventName] || false)\n  return eventHandler\n}\n\nfunction attachEventToNode (node, eventName, delegatedRoots) {\n  const eventHandler = (event) => {\n    const eventToTrigger = delegatedRoots.get(node)\n    if (eventToTrigger && eventToTrigger.eventHandler) {\n      const eventData = {\n        currentTarget: node\n      }\n      /* istanbul ignore next */\n      Object.defineProperties(event, {\n        currentTarget: {\n          configurable: true,\n          get () {\n            return eventData.currentTarget\n          }\n        }\n      })\n      eventToTrigger.eventHandler(event)\n    }\n  }\n  const parsedEventName = parseEventName(eventName)\n  node.addEventListener(parsedEventName, eventHandler, supportedPassiveEventMap[parsedEventName] || false)\n  return eventHandler\n}\n","import { isNullOrUndef, isInvalid, VType, VirtualChildren } from 'nerv-shared'\nimport { isAttrAnEvent, isArray } from 'nerv-utils'\nimport Ref from './ref'\nimport { detachEvent } from '../event'\n\nexport function unmountChildren (\n  children: VirtualChildren,\n  parentDom?: Element\n) {\n  if (isArray(children)) {\n    for (let i = 0, len = children.length; i < len; i++) {\n      unmount(children[i], parentDom)\n    }\n  } else {\n    unmount(children, parentDom)\n  }\n}\n\nexport function unmount (vnode, parentDom?) {\n  if (isInvalid(vnode)) {\n    return\n  }\n  const vtype = vnode.vtype\n  // Bitwise operators for better performance\n  // see: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators\n  const dom = vnode.dom\n\n  if ((vtype & (VType.Composite)) > 0) {\n    vnode.destroy()\n  } else if ((vtype & VType.Node) > 0) {\n    const { props, children, ref } = vnode\n    unmountChildren(children)\n    for (const propName in props) {\n      if (isAttrAnEvent(propName)) {\n        detachEvent(dom, propName, props[propName])\n      }\n    }\n    if (ref !== null) {\n      Ref.detach(vnode, ref, dom)\n    }\n  } else if (vtype & VType.Portal) {\n    unmountChildren(vnode.children, vnode.type)\n  }\n\n  if (!isNullOrUndef(parentDom) && !isNullOrUndef(dom)) {\n    if (isArray(dom)) {\n      for (let i = 0; i < dom.length; i++) {\n        parentDom.removeChild(dom[i])\n      }\n    } else {\n      parentDom.removeChild(dom)\n    }\n  }\n  // vnode.dom = null\n}\n","const NS = {\n  ev: 'http://www.w3.org/2001/xml-events',\n  xlink: 'http://www.w3.org/1999/xlink',\n  xml: 'http://www.w3.org/XML/1998/namespace'\n}\n\nconst ATTRS = {\n  accentHeight: 'accent-height',\n  accumulate: 0,\n  additive: 0,\n  alignmentBaseline: 'alignment-baseline',\n  allowReorder: 'allowReorder',\n  alphabetic: 0,\n  amplitude: 0,\n  arabicForm: 'arabic-form',\n  ascent: 0,\n  attributeName: 'attributeName',\n  attributeType: 'attributeType',\n  autoReverse: 'autoReverse',\n  azimuth: 0,\n  baseFrequency: 'baseFrequency',\n  baseProfile: 'baseProfile',\n  baselineShift: 'baseline-shift',\n  bbox: 0,\n  begin: 0,\n  bias: 0,\n  by: 0,\n  calcMode: 'calcMode',\n  capHeight: 'cap-height',\n  clip: 0,\n  clipPath: 'clip-path',\n  clipRule: 'clip-rule',\n  clipPathUnits: 'clipPathUnits',\n  colorInterpolation: 'color-interpolation',\n  colorInterpolationFilters: 'color-interpolation-filters',\n  colorProfile: 'color-profile',\n  colorRendering: 'color-rendering',\n  contentScriptType: 'contentScriptType',\n  contentStyleType: 'contentStyleType',\n  cursor: 0,\n  cx: 0,\n  cy: 0,\n  d: 0,\n  decelerate: 0,\n  descent: 0,\n  diffuseConstant: 'diffuseConstant',\n  direction: 0,\n  display: 0,\n  divisor: 0,\n  dominantBaseline: 'dominant-baseline',\n  dur: 0,\n  dx: 0,\n  dy: 0,\n  edgeMode: 'edgeMode',\n  elevation: 0,\n  enableBackground: 'enable-background',\n  end: 0,\n  evEvent: 'ev:event',\n  exponent: 0,\n  externalResourcesRequired: 'externalResourcesRequired',\n  fill: 0,\n  fillOpacity: 'fill-opacity',\n  fillRule: 'fill-rule',\n  filter: 0,\n  filterRes: 'filterRes',\n  filterUnits: 'filterUnits',\n  floodColor: 'flood-color',\n  floodOpacity: 'flood-opacity',\n  focusable: 0,\n  fontFamily: 'font-family',\n  fontSize: 'font-size',\n  fontSizeAdjust: 'font-size-adjust',\n  fontStretch: 'font-stretch',\n  fontStyle: 'font-style',\n  fontVariant: 'font-variant',\n  fontWeight: 'font-weight',\n  format: 0,\n  from: 0,\n  fx: 0,\n  fy: 0,\n  g1: 0,\n  g2: 0,\n  glyphName: 'glyph-name',\n  glyphOrientationHorizontal: 'glyph-orientation-horizontal',\n  glyphOrientationVertical: 'glyph-orientation-vertical',\n  glyphRef: 'glyphRef',\n  gradientTransform: 'gradientTransform',\n  gradientUnits: 'gradientUnits',\n  hanging: 0,\n  horizAdvX: 'horiz-adv-x',\n  horizOriginX: 'horiz-origin-x',\n  ideographic: 0,\n  imageRendering: 'image-rendering',\n  in: 0,\n  in2: 0,\n  intercept: 0,\n  k: 0,\n  k1: 0,\n  k2: 0,\n  k3: 0,\n  k4: 0,\n  kernelMatrix: 'kernelMatrix',\n  kernelUnitLength: 'kernelUnitLength',\n  kerning: 0,\n  keyPoints: 'keyPoints',\n  keySplines: 'keySplines',\n  keyTimes: 'keyTimes',\n  lengthAdjust: 'lengthAdjust',\n  letterSpacing: 'letter-spacing',\n  lightingColor: 'lighting-color',\n  limitingConeAngle: 'limitingConeAngle',\n  local: 0,\n  markerEnd: 'marker-end',\n  markerMid: 'marker-mid',\n  markerStart: 'marker-start',\n  markerHeight: 'markerHeight',\n  markerUnits: 'markerUnits',\n  markerWidth: 'markerWidth',\n  mask: 0,\n  maskContentUnits: 'maskContentUnits',\n  maskUnits: 'maskUnits',\n  mathematical: 0,\n  mode: 0,\n  numOctaves: 'numOctaves',\n  offset: 0,\n  opacity: 0,\n  operator: 0,\n  order: 0,\n  orient: 0,\n  orientation: 0,\n  origin: 0,\n  overflow: 0,\n  overlinePosition: 'overline-position',\n  overlineThickness: 'overline-thickness',\n  paintOrder: 'paint-order',\n  panose1: 'panose-1',\n  pathLength: 'pathLength',\n  patternContentUnits: 'patternContentUnits',\n  patternTransform: 'patternTransform',\n  patternUnits: 'patternUnits',\n  pointerEvents: 'pointer-events',\n  points: 0,\n  pointsAtX: 'pointsAtX',\n  pointsAtY: 'pointsAtY',\n  pointsAtZ: 'pointsAtZ',\n  preserveAlpha: 'preserveAlpha',\n  preserveAspectRatio: 'preserveAspectRatio',\n  primitiveUnits: 'primitiveUnits',\n  r: 0,\n  radius: 0,\n  refX: 'refX',\n  refY: 'refY',\n  renderingIntent: 'rendering-intent',\n  repeatCount: 'repeatCount',\n  repeatDur: 'repeatDur',\n  requiredExtensions: 'requiredExtensions',\n  requiredFeatures: 'requiredFeatures',\n  restart: 0,\n  result: 0,\n  rotate: 0,\n  rx: 0,\n  ry: 0,\n  scale: 0,\n  seed: 0,\n  shapeRendering: 'shape-rendering',\n  slope: 0,\n  spacing: 0,\n  specularConstant: 'specularConstant',\n  specularExponent: 'specularExponent',\n  speed: 0,\n  spreadMethod: 'spreadMethod',\n  startOffset: 'startOffset',\n  stdDeviation: 'stdDeviation',\n  stemh: 0,\n  stemv: 0,\n  stitchTiles: 'stitchTiles',\n  stopColor: 'stop-color',\n  stopOpacity: 'stop-opacity',\n  strikethroughPosition: 'strikethrough-position',\n  strikethroughThickness: 'strikethrough-thickness',\n  string: 0,\n  stroke: 0,\n  strokeDasharray: 'stroke-dasharray',\n  strokeDashoffset: 'stroke-dashoffset',\n  strokeLinecap: 'stroke-linecap',\n  strokeLinejoin: 'stroke-linejoin',\n  strokeMiterlimit: 'stroke-miterlimit',\n  strokeOpacity: 'stroke-opacity',\n  strokeWidth: 'stroke-width',\n  surfaceScale: 'surfaceScale',\n  systemLanguage: 'systemLanguage',\n  tableValues: 'tableValues',\n  targetX: 'targetX',\n  targetY: 'targetY',\n  textAnchor: 'text-anchor',\n  textDecoration: 'text-decoration',\n  textRendering: 'text-rendering',\n  textLength: 'textLength',\n  to: 0,\n  transform: 0,\n  u1: 0,\n  u2: 0,\n  underlinePosition: 'underline-position',\n  underlineThickness: 'underline-thickness',\n  unicode: 0,\n  unicodeBidi: 'unicode-bidi',\n  unicodeRange: 'unicode-range',\n  unitsPerEm: 'units-per-em',\n  vAlphabetic: 'v-alphabetic',\n  vHanging: 'v-hanging',\n  vIdeographic: 'v-ideographic',\n  vMathematical: 'v-mathematical',\n  values: 0,\n  vectorEffect: 'vector-effect',\n  version: 0,\n  vertAdvY: 'vert-adv-y',\n  vertOriginX: 'vert-origin-x',\n  vertOriginY: 'vert-origin-y',\n  viewBox: 'viewBox',\n  viewTarget: 'viewTarget',\n  visibility: 0,\n  widths: 0,\n  wordSpacing: 'word-spacing',\n  writingMode: 'writing-mode',\n  x: 0,\n  xHeight: 'x-height',\n  x1: 0,\n  x2: 0,\n  xChannelSelector: 'xChannelSelector',\n  xlinkActuate: 'xlink:actuate',\n  xlinkArcrole: 'xlink:arcrole',\n  xlinkHref: 'xlink:href',\n  xlinkRole: 'xlink:role',\n  xlinkShow: 'xlink:show',\n  xlinkTitle: 'xlink:title',\n  xlinkType: 'xlink:type',\n  xmlBase: 'xml:base',\n  xmlId: 'xml:id',\n  xmlns: 0,\n  xmlnsXlink: 'xmlns:xlink',\n  xmlLang: 'xml:lang',\n  xmlSpace: 'xml:space',\n  y: 0,\n  y1: 0,\n  y2: 0,\n  yChannelSelector: 'yChannelSelector',\n  z: 0,\n  zoomAndPan: 'zoomAndPan'\n}\n\nconst SVGPropertyConfig = {\n  Properties: {},\n  DOMAttributeNamespaces: {\n    'ev:event': NS.ev,\n    'xlink:actuate': NS.xlink,\n    'xlink:arcrole': NS.xlink,\n    'xlink:href': NS.xlink,\n    'xlink:role': NS.xlink,\n    'xlink:show': NS.xlink,\n    'xlink:title': NS.xlink,\n    'xlink:type': NS.xlink,\n    'xml:base': NS.xml,\n    'xml:id': NS.xml,\n    'xml:lang': NS.xml,\n    'xml:space': NS.xml\n  },\n  DOMAttributeNames: {}\n}\n\nObject.keys(ATTRS).forEach((key) => {\n  SVGPropertyConfig.Properties[key] = 0\n  if (ATTRS[key]) {\n    SVGPropertyConfig.DOMAttributeNames[key] = ATTRS[key]\n  }\n})\n\nexport default SVGPropertyConfig\n","/* tslint:disable: no-empty*/\nimport {\n  isString,\n  isAttrAnEvent,\n  isNumber,\n  isArray,\n  isFunction,\n  MapClass\n} from 'nerv-utils'\nimport createElement, { mountChild, mountElement, insertElement } from './create-element'\nimport {\n  Props,\n  VText,\n  isInvalid,\n  VNode,\n  isNullOrUndef,\n  isValidElement,\n  EMPTY_CHILDREN,\n  VType\n} from 'nerv-shared'\nimport { unmount, unmountChildren } from './unmount'\nimport Ref from './ref'\nimport { attachEvent, detachEvent } from '../event'\nimport SVGPropertyConfig from './svg-property-config'\n\nexport function patch (\n  lastVnode,\n  nextVnode,\n  parentNode: Element,\n  context: object,\n  isSvg?: boolean\n) {\n  const lastDom = lastVnode.dom\n  let newDom\n  const lastVnodeIsArray = isArray(lastVnode)\n  const nextVnodeisArray = isArray(nextVnode)\n  if (isSameVNode(lastVnode, nextVnode)) {\n    const vtype = nextVnode.vtype\n    if (vtype & VType.Node) {\n      isSvg = isNullOrUndef(isSvg) ? lastVnode.isSvg : isSvg\n      if (isSvg) {\n        nextVnode.isSvg = isSvg\n      }\n      patchProps(lastDom, nextVnode.props, lastVnode.props, lastVnode, isSvg)\n      patchChildren(\n        lastDom,\n        lastVnode.children,\n        nextVnode.children,\n        context,\n        isSvg as boolean\n      )\n      if (nextVnode.ref !== null) {\n        Ref.update(lastVnode, nextVnode, lastDom)\n      }\n      newDom = lastDom\n    } else if ((vtype & (VType.Composite)) > 0) {\n      newDom = nextVnode.update(lastVnode, nextVnode, context)\n    } else if (vtype & VType.Text) {\n      return patchVText(lastVnode, nextVnode)\n    } else if (vtype & VType.Portal) {\n      patchChildren(lastVnode.type, lastVnode.children, nextVnode.children, context, isSvg as boolean)\n    }\n    // @TODO: test case\n    nextVnode.dom = newDom || lastDom\n  } else if (isArray(lastVnode) && isArray(nextVnode)) {\n    patchArrayChildren(lastDom, lastVnode, nextVnode, context, false)\n  } else if (lastVnodeIsArray && !nextVnodeisArray) {\n    patchArrayChildren(parentNode, lastVnode, [nextVnode], context, false)\n  } else if (!lastVnodeIsArray && nextVnodeisArray) {\n    newDom = createElement(nextVnode, isSvg, context)\n    insertElement(newDom, parentNode, lastDom)\n    parentNode.removeChild(lastDom)\n  } else {\n    unmount(lastVnode)\n    newDom = createElement(nextVnode, isSvg, context)\n    if (nextVnode !== null) {\n      nextVnode.dom = newDom\n    }\n    const newDomIsArray = isArray(newDom)\n    const lastDomIsArray = isArray(lastDom)\n    if (newDomIsArray) {\n      insertElement(newDom, parentNode, lastDom)\n      parentNode.removeChild(lastDom)\n    } else if (lastDomIsArray) {\n      parentNode = lastDom[0].parentNode\n      parentNode.insertBefore(newDom, lastDom[0])\n      for (let i = 0; i < lastDom.length; i++) {\n        parentNode.removeChild(lastDom[i])\n      }\n    } else if (parentNode !== null) {\n      if (lastDom != null) {\n        parentNode.replaceChild(newDom, lastDom)\n      } else {\n        parentNode.appendChild(newDom)\n      }\n    }\n  }\n  return newDom\n}\n\nfunction patchArrayChildren (\n  parentDom: Element,\n  lastChildren,\n  nextChildren,\n  context: object,\n  isSvg: boolean\n) {\n  const lastLength = lastChildren.length\n  const nextLength = nextChildren.length\n  if (lastLength === 0) {\n    if (nextLength > 0) {\n      for (let i = 0; i < nextLength; i++) {\n        mountChild(nextChildren[i], parentDom, context, isSvg)\n      }\n    }\n  } else if (nextLength === 0) {\n    unmountChildren(lastChildren)\n    parentDom.textContent = ''\n  } else {\n    if (isKeyed(lastChildren, nextChildren)) {\n      patchKeyedChildren(\n        lastChildren,\n        nextChildren,\n        parentDom,\n        context,\n        isSvg,\n        lastLength,\n        nextLength\n      )\n    } else {\n      patchNonKeyedChildren(\n        parentDom,\n        lastChildren,\n        nextChildren,\n        context,\n        isSvg,\n        lastLength,\n        nextLength\n      )\n    }\n  }\n}\n\nexport function patchChildren (\n  parentDom: Element,\n  lastChildren,\n  nextChildren,\n  context: object,\n  isSvg: boolean\n) {\n  // @TODO: is a better way to compatible with react-router?\n  // if (lastChildren === nextChildren) {\n  //   return\n  // }\n  const lastChildrenIsArray = isArray(lastChildren)\n  const nextChildrenIsArray = isArray(nextChildren)\n  if (lastChildrenIsArray && nextChildrenIsArray) {\n    patchArrayChildren(parentDom, lastChildren, nextChildren, context, isSvg)\n  } else if (!lastChildrenIsArray && !nextChildrenIsArray) {\n    patch(lastChildren, nextChildren, parentDom, context, isSvg)\n  } else if (lastChildrenIsArray && !nextChildrenIsArray) {\n    patchArrayChildren(parentDom, lastChildren, [nextChildren], context, isSvg)\n  } else if (!lastChildrenIsArray && nextChildrenIsArray) {\n    patchArrayChildren(parentDom, [lastChildren], nextChildren, context, isSvg)\n  }\n}\n\nfunction patchNonKeyedChildren (\n  parentDom: Element,\n  lastChildren,\n  nextChildren,\n  context: object,\n  isSvg: boolean,\n  lastLength: number,\n  nextLength: number\n) {\n  const minLength = Math.min(lastLength, nextLength)\n  let i = 0\n  while (i < minLength) {\n    patch(lastChildren[i], nextChildren[i], parentDom, context, isSvg)\n    i++\n  }\n  if (lastLength < nextLength) {\n    for (i = minLength; i < nextLength; i++) {\n      if (parentDom !== null) {\n        const refVnode = lastChildren[i - 1]\n        mountElement(\n          createElement(\n            nextChildren[i],\n            isSvg,\n            context\n          ),\n          parentDom,\n          isValidElement(refVnode) && refVnode.dom != null\n            ? refVnode.dom.nextSibling\n            : null\n        )\n      }\n    }\n  } else if (lastLength > nextLength) {\n    for (i = minLength; i < lastLength; i++) {\n      unmount(lastChildren[i], parentDom)\n    }\n  }\n}\n\n/**\n *\n * Virtual DOM patching algorithm based on ivi by\n * Boris Kaul (@localvoid)\n * Licensed under the MIT License\n * https://github.com/ivijs/ivi/blob/master/LICENSE\n *\n */\nfunction patchKeyedChildren (\n  a: VNode[],\n  b: VNode[],\n  dom: Element,\n  context,\n  isSvg: boolean,\n  aLength: number,\n  bLength: number\n) {\n  let aEnd = aLength - 1\n  let bEnd = bLength - 1\n  let aStart = 0\n  let bStart = 0\n  let i\n  let j\n  let aNode\n  let bNode\n  let nextNode\n  let nextPos\n  let node\n  let aStartNode = a[aStart]\n  let bStartNode = b[bStart]\n  let aEndNode = a[aEnd]\n  let bEndNode = b[bEnd]\n\n  // Step 1\n  // tslint:disable-next-line\n  outer: {\n    // Sync nodes with the same key at the beginning.\n    while (aStartNode.key === bStartNode.key) {\n      patch(aStartNode, bStartNode, dom, context, isSvg)\n      aStart++\n      bStart++\n      if (aStart > aEnd || bStart > bEnd) {\n        break outer\n      }\n      aStartNode = a[aStart]\n      bStartNode = b[bStart]\n    }\n\n    // Sync nodes with the same key at the end.\n    while (aEndNode.key === bEndNode.key) {\n      patch(aEndNode, bEndNode, dom, context, isSvg)\n      aEnd--\n      bEnd--\n      if (aStart > aEnd || bStart > bEnd) {\n        break outer\n      }\n      aEndNode = a[aEnd]\n      bEndNode = b[bEnd]\n    }\n  }\n\n  if (aStart > aEnd) {\n    if (bStart <= bEnd) {\n      nextPos = bEnd + 1\n      nextNode = nextPos < bLength ? b[nextPos].dom : null\n      while (bStart <= bEnd) {\n        node = b[bStart]\n        bStart++\n        attachNewNode(dom, createElement(node, isSvg, context), nextNode)\n      }\n    }\n  } else if (bStart > bEnd) {\n    while (aStart <= aEnd) {\n      unmount(a[aStart++], dom)\n    }\n  } else {\n    const aLeft = aEnd - aStart + 1\n    const bLeft = bEnd - bStart + 1\n    const sources = new Array(bLeft)\n\n    // Mark all nodes as inserted.\n    for (i = 0; i < bLeft; i++) {\n      sources[i] = -1\n    }\n    let moved = false\n    let pos = 0\n    let patched = 0\n\n    // When sizes are small, just loop them through\n    if (bLeft <= 4 || aLeft * bLeft <= 16) {\n      for (i = aStart; i <= aEnd; i++) {\n        aNode = a[i]\n        if (patched < bLeft) {\n          for (j = bStart; j <= bEnd; j++) {\n            bNode = b[j]\n            if (aNode.key === bNode.key) {\n              sources[j - bStart] = i\n\n              if (pos > j) {\n                moved = true\n              } else {\n                pos = j\n              }\n              patch(aNode, bNode, dom, context, isSvg)\n              patched++\n              a[i] = null as any\n              break\n            }\n          }\n        }\n      }\n    } else {\n      const keyIndex = new MapClass()\n\n      for (i = bStart; i <= bEnd; i++) {\n        keyIndex.set(b[i].key, i)\n      }\n\n      for (i = aStart; i <= aEnd; i++) {\n        aNode = a[i]\n\n        if (patched < bLeft) {\n          j = keyIndex.get(aNode.key)\n\n          if (j !== undefined) {\n            bNode = b[j]\n            sources[j - bStart] = i\n            if (pos > j) {\n              moved = true\n            } else {\n              pos = j\n            }\n            patch(aNode, bNode, dom, context, isSvg)\n            patched++\n            a[i] = null as any\n          }\n        }\n      }\n    }\n    if (aLeft === aLength && patched === 0) {\n      unmountChildren(a)\n      dom.textContent = ''\n      while (bStart < bLeft) {\n        node = b[bStart]\n        bStart++\n        attachNewNode(dom, createElement(node, isSvg, context), null)\n      }\n    } else {\n      i = aLeft - patched\n      while (i > 0) {\n        aNode = a[aStart++]\n        if (aNode !== null) {\n          unmount(aNode, dom)\n          i--\n        }\n      }\n      if (moved) {\n        const seq = lis(sources)\n        j = seq.length - 1\n        for (i = bLeft - 1; i >= 0; i--) {\n          if (sources[i] === -1) {\n            pos = i + bStart\n            node = b[pos]\n            nextPos = pos + 1\n            attachNewNode(\n              dom,\n              createElement(node, isSvg, context),\n              nextPos < bLength ? b[nextPos].dom : null\n            )\n          } else {\n            if (j < 0 || i !== seq[j]) {\n              pos = i + bStart\n              node = b[pos]\n              nextPos = pos + 1\n              attachNewNode(\n                dom,\n                node.dom,\n                nextPos < bLength ? b[nextPos].dom : null\n              )\n            } else {\n              j--\n            }\n          }\n        }\n      } else if (patched !== bLeft) {\n        for (i = bLeft - 1; i >= 0; i--) {\n          if (sources[i] === -1) {\n            pos = i + bStart\n            node = b[pos]\n            nextPos = pos + 1\n            attachNewNode(\n              dom,\n              createElement(node, isSvg, context),\n              nextPos < bLength ? b[nextPos].dom : null\n            )\n          }\n        }\n      }\n    }\n  }\n}\n\nfunction attachNewNode (parentDom, newNode, nextNode) {\n  if (isNullOrUndef(nextNode)) {\n    parentDom.appendChild(newNode)\n  } else {\n    parentDom.insertBefore(newNode, nextNode)\n  }\n}\n\n/**\n * Slightly modified Longest Increased Subsequence algorithm, it ignores items that have -1 value, they're representing\n * new items.\n *\n * http://en.wikipedia.org/wiki/Longest_increasing_subsequence\n *\n * @param a Array of numbers.\n * @returns Longest increasing subsequence.\n */\nfunction lis (a: number[]): number[] {\n  const p = a.slice()\n  const result: number[] = []\n  result.push(0)\n  let u: number\n  let v: number\n\n  for (let i = 0, il = a.length; i < il; ++i) {\n    if (a[i] === -1) {\n      continue\n    }\n\n    const j = result[result.length - 1]\n    if (a[j] < a[i]) {\n      p[i] = j\n      result.push(i)\n      continue\n    }\n\n    u = 0\n    v = result.length - 1\n\n    while (u < v) {\n      const c = ((u + v) / 2) | 0\n      if (a[result[c]] < a[i]) {\n        u = c + 1\n      } else {\n        v = c\n      }\n    }\n\n    if (a[i] < a[result[u]]) {\n      if (u > 0) {\n        p[i] = result[u - 1]\n      }\n      result[u] = i\n    }\n  }\n\n  u = result.length\n  v = result[u - 1]\n\n  while (u-- > 0) {\n    result[u] = v\n    v = p[v]\n  }\n\n  return result\n}\n\nfunction isKeyed (lastChildren: VNode[], nextChildren: VNode[]): boolean {\n  return (\n    nextChildren.length > 0 &&\n    !isNullOrUndef(nextChildren[0]) &&\n    !isNullOrUndef(nextChildren[0].key) &&\n    lastChildren.length > 0 &&\n    !isNullOrUndef(lastChildren[0]) &&\n    !isNullOrUndef(lastChildren[0].key)\n  )\n}\n\nfunction isSameVNode (a, b) {\n  if (isInvalid(a) || isInvalid(b) || isArray(a) || isArray(b)) {\n    return false\n  }\n  return a.type === b.type && a.vtype === b.vtype && a.key === b.key\n}\n\nfunction patchVText (lastVNode: VText, nextVNode: VText) {\n  const dom = lastVNode.dom\n  if (dom === null) {\n    return\n  }\n  const nextText = nextVNode.text\n  nextVNode.dom = dom\n\n  if (lastVNode.text !== nextText) {\n    dom.nodeValue = nextText as string\n  }\n  return dom\n}\n\nconst skipProps = {\n  children: 1,\n  key: 1,\n  ref: 1,\n  owner: 1\n}\n\nconst IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i\n\nfunction setStyle (domStyle, style, value) {\n  if (isNullOrUndef(value) || (isNumber(value) && isNaN(value))) {\n    domStyle[style] = ''\n    return\n  }\n  if (style === 'float') {\n    domStyle['cssFloat'] = value\n    domStyle['styleFloat'] = value\n    return\n  }\n  domStyle[style] =\n    !isNumber(value) || IS_NON_DIMENSIONAL.test(style) ? value : value + 'px'\n}\n\nfunction patchEvent (\n  eventName: string,\n  lastEvent: Function,\n  nextEvent: Function,\n  domNode: Element\n) {\n  if (lastEvent !== nextEvent) {\n    if (isFunction(lastEvent)) {\n      detachEvent(domNode, eventName, lastEvent)\n    }\n    attachEvent(domNode, eventName, nextEvent)\n  }\n}\n\nfunction patchStyle (lastAttrValue: CSSStyleSheet, nextAttrValue: CSSStyleSheet, dom: HTMLElement) {\n  const domStyle = dom.style\n  let style\n  let value\n\n  if (isString(nextAttrValue)) {\n    domStyle.cssText = nextAttrValue\n    return\n  }\n  if (!isNullOrUndef(lastAttrValue) && !isString(lastAttrValue)) {\n    for (style in nextAttrValue) {\n      value = nextAttrValue[style]\n      if (value !== lastAttrValue[style]) {\n        setStyle(domStyle, style, value)\n      }\n    }\n    for (style in lastAttrValue) {\n      if (isNullOrUndef(nextAttrValue[style])) {\n        domStyle[style] = ''\n      }\n    }\n  } else {\n    for (style in nextAttrValue) {\n      value = nextAttrValue[style]\n      setStyle(domStyle, style, value)\n    }\n  }\n}\n\nexport function patchProp (\n  domNode: Element,\n  prop: string,\n  lastValue,\n  nextValue,\n  lastVnode: VNode | null,\n  isSvg?: boolean\n) {\n  // fix the value update for textarea/input\n  if (lastValue !== nextValue || prop === 'value') {\n    if (prop === 'className') {\n      prop = 'class'\n    }\n    if (skipProps[prop] === 1) {\n      return\n    } else if (prop === 'class' && !isSvg) {\n      domNode.className = nextValue\n    } else if (prop === 'dangerouslySetInnerHTML') {\n      const lastHtml = lastValue && lastValue.__html\n      const nextHtml = nextValue && nextValue.__html\n\n      if (lastHtml !== nextHtml) {\n        if (!isNullOrUndef(nextHtml)) {\n          if (\n            isValidElement(lastVnode) &&\n            lastVnode.children !== EMPTY_CHILDREN\n          ) {\n            unmountChildren(lastVnode.children)\n            lastVnode.children = []\n          }\n          domNode.innerHTML = nextHtml\n        }\n      }\n    } else if (isAttrAnEvent(prop)) {\n      patchEvent(prop, lastValue, nextValue, domNode)\n    } else if (prop === 'style') {\n      patchStyle(lastValue, nextValue, domNode as HTMLElement)\n    } else if (\n      prop !== 'list' &&\n      prop !== 'type' &&\n      !isSvg &&\n      prop in domNode\n    ) {\n      setProperty(domNode, prop, nextValue == null ? '' : nextValue)\n      if (nextValue == null || nextValue === false) {\n        domNode.removeAttribute(prop)\n      }\n    } else if (isNullOrUndef(nextValue) || nextValue === false) {\n      domNode.removeAttribute(prop)\n    } else {\n      const namespace = SVGPropertyConfig.DOMAttributeNamespaces[prop]\n      if (isSvg && namespace) {\n        if (nextValue) {\n          domNode.setAttributeNS(namespace, prop, nextValue)\n        } else {\n          const colonPosition = prop.indexOf(':')\n          const localName =\n            colonPosition > -1 ? prop.substr(colonPosition + 1) : prop\n          domNode.removeAttributeNS(namespace, localName)\n        }\n      } else {\n        if (!isFunction(nextValue)) {\n          domNode.setAttribute(prop, nextValue)\n        }\n        // WARNING: Non-event attributes with function values:\n        // https://reactjs.org/blog/2017/09/08/dom-attributes-in-react-16.html#changes-in-detail\n      }\n    }\n  }\n}\n\nexport function setProperty (node, name, value) {\n  try {\n    node[name] = value\n  } catch (e) {}\n}\n\nfunction patchProps (\n  domNode: Element,\n  nextProps: Props,\n  previousProps: Props,\n  lastVnode: VNode,\n  isSvg?: boolean\n) {\n  for (const propName in previousProps) {\n    const value = previousProps[propName]\n    if (isNullOrUndef(nextProps[propName]) && !isNullOrUndef(value)) {\n      if (isAttrAnEvent(propName)) {\n        detachEvent(domNode, propName, value)\n      } else if (propName === 'dangerouslySetInnerHTML') {\n        domNode.textContent = ''\n      } else if (propName === 'className') {\n        domNode.removeAttribute('class')\n      } else {\n        domNode.removeAttribute(propName)\n      }\n    }\n  }\n  for (const propName in nextProps) {\n    patchProp(\n      domNode,\n      propName,\n      previousProps[propName],\n      nextProps[propName],\n      lastVnode,\n      isSvg\n    )\n  }\n}\n\nexport default patch\n","import { isSupportSVG, isArray, isString, isNumber, doc, isBoolean } from 'nerv-utils'\nimport {\n  isNullOrUndef,\n  VirtualNode,\n  VType,\n  VNode,\n  isValidElement,\n  EMPTY_OBJ,\n  CompositeComponent,\n  isPortal\n} from 'nerv-shared'\nimport { patchProp } from './patch'\nimport Ref from './ref'\nconst SVG_NAMESPACE = 'http://www.w3.org/2000/svg'\n\nfunction createElement (\n  vnode: VirtualNode | VirtualNode[],\n  isSvg?: boolean,\n  parentContext?,\n  parentComponent?\n): Element | Text | Comment | Array<Element | Text | Comment>  {\n  let domNode\n  if (isValidElement(vnode)) {\n    const vtype = vnode.vtype\n    if (vtype & (VType.Composite)) {\n      domNode = (vnode as CompositeComponent).init(parentContext, parentComponent)\n    } else if (vtype & VType.Text) {\n      domNode = doc.createTextNode((vnode as any).text);\n      (vnode as any).dom = domNode\n    } else if (vtype & VType.Node) {\n      domNode = mountVNode(vnode as any, isSvg, parentContext, parentComponent)\n    } else if (vtype & VType.Void) {\n      domNode = (vnode as any).dom = doc.createTextNode('')\n    } else if (isPortal(vtype, vnode)) {\n      vnode.type.appendChild(\n        createElement(vnode.children, isSvg, parentContext, parentComponent) as Element\n      )\n      domNode = doc.createTextNode('')\n    }\n  } else if (isString(vnode) || isNumber(vnode)) {\n    domNode = doc.createTextNode(vnode as string)\n  } else if (isNullOrUndef(vnode) || isBoolean(vnode)) {\n    domNode = doc.createTextNode('')\n  } else if (isArray(vnode)) {\n    domNode = vnode.map((child) => createElement(child, isSvg, parentContext, parentComponent))\n  } else {\n    throw new Error('Unsupported VNode.')\n  }\n  return domNode\n}\n\nexport function mountVNode (vnode: VNode, isSvg?: boolean, parentContext?, parentComponent?) {\n  if (vnode.isSvg) {\n    isSvg = true\n  } else if (vnode.type === 'svg') {\n    isSvg = true\n  /* istanbul ignore next */\n  } else if (!isSupportSVG) {\n    isSvg = false\n  }\n  if (isSvg) {\n    vnode.namespace = SVG_NAMESPACE\n    vnode.isSvg = isSvg\n  }\n  const domNode = !isSvg\n    ? doc.createElement(vnode.type)\n    : doc.createElementNS(vnode.namespace, vnode.type)\n  setProps(domNode, vnode, isSvg as boolean)\n  if (vnode.type === 'foreignObject') {\n    isSvg = false\n  }\n  const children = vnode.children\n  if (isArray(children)) {\n    for (let i = 0, len = children.length; i < len; i++) {\n      mountChild(children[i] as VNode, domNode, parentContext, isSvg, parentComponent)\n    }\n  } else {\n    mountChild(children as VNode, domNode, parentContext, isSvg, parentComponent)\n  }\n  vnode.dom = domNode\n  if (vnode.ref !== null) {\n    Ref.attach(vnode, vnode.ref, domNode)\n  }\n  return domNode\n}\n\nexport function mountChild (\n  child: VNode,\n  domNode: Element,\n  parentContext: Object,\n  isSvg?: boolean,\n  parentComponent?\n) {\n  child.parentContext = parentContext || EMPTY_OBJ\n  const childNode = createElement(child as VNode, isSvg, parentContext, parentComponent)\n  mountElement(childNode, domNode)\n}\n\nexport function mountElement (\n  element: Element | Text | Comment | Array<Element | Text | Comment>,\n  parentNode: Element,\n  refChild?: Node | null\n) {\n  if (isArray(element)) {\n    for (let i = 0; i < element.length; i++) {\n      const el = element[i]\n      mountElement(el, parentNode)\n    }\n  } else {\n    refChild != null ? parentNode.insertBefore(element, refChild) : parentNode.appendChild(element)\n  }\n}\n\nexport function insertElement (\n  element: Element | Text | Comment | Array<Element | Text | Comment>,\n  parentNode: Element,\n  lastDom: Element\n) {\n  if (isArray(element)) {\n    for (let i = 0; i < element.length; i++) {\n      const el = element[i]\n      insertElement(el, parentNode, lastDom)\n    }\n  } else {\n    parentNode.insertBefore(element, lastDom)\n  }\n}\n\nfunction setProps (domNode: Element, vnode: VNode, isSvg: boolean) {\n  const props = vnode.props\n  for (const p in props) {\n    patchProp(domNode, p, null, props[p], null, isSvg)\n  }\n}\n\nexport default createElement\n","import { VType, VText } from 'nerv-shared'\n\nexport default function createVText (text: string | number): VText {\n  return {\n    text,\n    vtype: VType.Text,\n    dom: null\n  }\n}\n","import { VType } from 'nerv-shared'\nexport function createVoid () {\n  return {\n    dom: null,\n    vtype: VType.Void\n  }\n}\n","import { isFunction, isUndefined, nextTick, isArray, objectIs } from 'nerv-utils'\nimport Current from './current-owner'\nimport { isNullOrUndef } from 'nerv-shared'\nimport Component from './component'\nimport { RefObject } from './create-ref'\nimport { Context } from './create-context'\nimport { enqueueRender } from './render-queue'\n\nexport function getHooks (index: number): Hook {\n  if (Current.current === null) {\n    throw new Error(`invalid hooks call: hooks can only be called in a stateless component.`)\n  }\n  const hooks = Current.current.hooks\n  if (index >= hooks.length) {\n    hooks.push({} as any)\n  }\n  return hooks[index]\n}\n\ntype SetStateAction<S> = S | ((prevState: S) => S)\n\ntype Dispatch<A> = (value: A) => void\n\ntype EffectCallback = () => (void | (() => void))\n\ntype DependencyList = ReadonlyArray<any>\n\ntype Reducer<S, A> = (prevState: S, action: A) => S\n\ntype ReducerState<R extends Reducer<any, any>> = R extends Reducer<infer S, any> ? S : never\n\ntype ReducerAction<R extends Reducer<any, any>> = R extends Reducer<any, infer A> ? A : never\n\nexport interface HookEffect {\n  deps?: DependencyList\n  effect: EffectCallback\n  cleanup?: Function\n}\n\nexport interface HookState<S> {\n  component: Component<any, any>\n  state: [S, Dispatch<SetStateAction<S>>]\n}\n\nexport interface HookRef<T> {\n  ref?: RefObject<T>\n}\n\nexport interface HookReducer<R extends Reducer<any, any>, I> {\n  component: Component<any, any>\n  state: [ReducerState<R>, Dispatch<ReducerAction<R>>]\n}\n\nexport interface HookCallback<T> {\n  deps?: DependencyList\n  callback: Function\n  value: T\n}\n\nexport interface HookContext {\n  context?: true\n}\n\n// tslint:disable-next-line:max-line-length\nexport type Hook = HookEffect & HookState<unknown> & HookReducer<any, unknown> & HookRef<unknown> & HookCallback<any> & HookContext\n\nexport function useState<S> (initialState: S | (() => S)): [S, Dispatch<SetStateAction<S>>] {\n  if (isFunction(initialState)) {\n    initialState = initialState()\n  }\n  const hook = getHooks(Current.index++) as HookState<S>\n  if (!hook.state) {\n    hook.component = Current.current!\n    hook.state = [\n      initialState,\n      (action) => {\n        hook.state[0] = isFunction(action) ? action(hook.state[0]) : action\n        hook.component._disable = false\n        hook.component.setState({})\n      }\n    ]\n  }\n  return hook.state\n}\n\nexport function useReducer<R extends Reducer<any, any>, I> (\n  reducer: R,\n  initialState: I & ReducerState<R>,\n  initializer?: (arg: I & ReducerState<R>) => ReducerState<R>\n): [ReducerState<R>, Dispatch<ReducerAction<R>>] {\n  if (isFunction(initialState)) {\n    initialState = initialState()\n  }\n  const hook = getHooks(Current.index++) as HookReducer<R, I>\n  if (!hook.state) {\n    hook.component = Current.current!\n    hook.state = [\n      isUndefined(initializer) ? initialState : initializer(initialState),\n      (action) => {\n        hook.state[0] = reducer(hook.state[0], action)\n        hook.component._disable = false\n        hook.component.setState({})\n      }\n    ]\n  }\n  return hook.state\n}\n\nfunction areDepsChanged (prevDeps?: DependencyList, deps?: DependencyList) {\n  if (isNullOrUndef(prevDeps) || isNullOrUndef(deps)) {\n    return true\n  }\n  return deps.some((d, i) => !objectIs(d, prevDeps[i]))\n}\n\nexport function invokeEffects (component: Component<any, any>, delay: boolean = false) {\n  const effects = delay ? component.effects : component.layoutEffects\n  effects.forEach((hook) => {\n    if (isFunction(hook.cleanup)) {\n      hook.cleanup()\n    }\n    const result = hook.effect()\n    if (isFunction(result)) {\n      hook.cleanup = result\n    }\n  })\n\n  if (delay) {\n    component.effects = []\n  } else {\n    component.layoutEffects = []\n  }\n}\n\nlet scheduleEffectComponents: Array<Component<any, any>> = []\n\nfunction invokeScheduleEffects (component: Component) {\n  if (!component._afterScheduleEffect) {\n    component._afterScheduleEffect = true\n    scheduleEffectComponents.push(component)\n    if (scheduleEffectComponents.length === 1) {\n      nextTick(() => {\n        setTimeout(() => {\n          scheduleEffectComponents.forEach((c) => {\n            c._afterScheduleEffect = false\n            invokeEffects(c, true)\n          })\n          scheduleEffectComponents = []\n        }, 0)\n      })\n    }\n  }\n}\n\nfunction useEffectImpl (effect: EffectCallback, deps?: DependencyList, delay: boolean = false) {\n  const hook = getHooks(Current.index++)\n  if (areDepsChanged(hook.deps, deps)) {\n    hook.effect = effect\n    hook.deps = deps\n\n    if (delay) {\n      Current.current!.effects = Current.current!.effects.concat(hook)\n      invokeScheduleEffects(Current.current!)\n    } else {\n      Current.current!.layoutEffects = Current.current!.layoutEffects.concat(hook)\n    }\n  }\n}\n\nexport function useEffect (effect: EffectCallback, deps?: DependencyList): void {\n  useEffectImpl(effect, deps, true)\n}\n\nexport function useLayoutEffect (effect: EffectCallback, deps?: DependencyList): void {\n  useEffectImpl(effect, deps)\n}\n\nexport function useRef<T> (initialValue?: T): RefObject<T> {\n  const hook = getHooks(Current.index++) as HookRef<T>\n  if (!hook.ref) {\n    hook.ref = {\n      current: initialValue\n    }\n  }\n  return hook.ref\n}\n\nexport function useMemo<T> (factory: () => T, deps?: DependencyList): T {\n  const hook = getHooks(Current.index++)\n  if (areDepsChanged(hook.deps, deps)) {\n    hook.deps = deps\n    hook.callback = factory\n    hook.value = factory()\n  }\n  return hook.value\n}\n\nexport function useCallback<T extends (...args: never[]) => unknown> (callback: T, deps: DependencyList): T {\n  return useMemo(() => callback, deps)\n}\n\nexport function useContext<T> (context: Context<T>): T {\n  const provider = Current.current!.context[context._id]\n  if (isUndefined(provider)) {\n    return context._defaultValue\n  }\n  const hook = getHooks(Current.index++)\n  // should update when value changes with shouldComponentUpdate:false Component on top\n  if (isUndefined(hook.context)) {\n    hook.context = true\n    const c = Current.current!\n    provider.on(() => enqueueRender(c))\n  }\n  return provider.value\n}\n\nexport function useImperativeHandle<T, R extends T> (\n  ref: RefObject<T> | undefined,\n  init: () => R,\n  deps?: DependencyList\n): void {\n  useLayoutEffect(() => {\n    if (isFunction(ref)) {\n      ref(init())\n      return () => ref(null)\n    } else if (!isUndefined(ref)) {\n      ref.current = init()\n      return () => {\n        delete ref.current\n      }\n    }\n  }, isArray(deps) ? deps.concat([ref]) : undefined)\n}\n","// import { extend, isFunction, isNumber, isString } from 'nerv-utils'\nimport { extend, isFunction, isNumber, isString, clone, isUndefined, isArray } from 'nerv-utils'\nimport CurrentOwner from './current-owner'\nimport createElement from './vdom/create-element'\nimport createVText from './vdom/create-vtext'\nimport { createVoid } from './vdom/create-void'\nimport patch from './vdom/patch'\nimport {\n  isNullOrUndef,\n  CompositeComponent,\n  isComponent,\n  isInvalid,\n  VText,\n  VVoid,\n  VNode,\n  VType,\n  EMPTY_OBJ,\n  isComposite\n} from 'nerv-shared'\nimport FullComponent from './full-component'\nimport { unmount } from './vdom/unmount'\nimport Ref from './vdom/ref'\nimport Component from './component'\nimport { invokeEffects } from './hooks'\nimport { Emiter } from './emiter'\nexport type ParentContext = Record<string, Emiter<any>>\n\nconst readyComponents: any[] = []\n\nexport function errorCatcher (fn: Function, component: Component<any, any>) {\n  try {\n    return fn()\n  } catch (error) {\n    errorHandler(component, error)\n  }\n}\n\nfunction errorHandler (component: Component<any, any>, error) {\n  // if(!component) { throw error ; return }\n  let boundary\n  while (true) {\n    const { getDerivedStateFromError } = (component as any).constructor\n    if (isFunction(getDerivedStateFromError) || isFunction(component.componentDidCatch)) {\n      boundary = component\n      break\n    } else if (component._parentComponent) {\n      component = component._parentComponent\n    } else {\n      break\n    }\n  }\n  if (boundary) {\n    const { getDerivedStateFromError } = (boundary as any).constructor\n    const _disable = boundary._disable\n    boundary._disable = false\n    if (isFunction(getDerivedStateFromError)) {\n      component.setState(getDerivedStateFromError(error))\n    } else if (isFunction(component.componentDidCatch)) {\n      boundary.componentDidCatch(error)\n    }\n    boundary._disable = _disable\n  } else {\n    throw error\n  }\n}\n\nexport function ensureVirtualNode (rendered: any): VText | VVoid | VNode {\n  if (isNumber(rendered) || isString(rendered)) {\n    return createVText(rendered)\n  } else if (isInvalid(rendered)) {\n    return createVoid()\n  } else if (isArray(rendered)) {\n    rendered = rendered.length === 0 ?  createVoid() : rendered.map(ensureVirtualNode)\n  }\n  return rendered\n}\n\nexport function mountVNode (vnode, parentContext: any, parentComponent?) {\n  return createElement(vnode, false, parentContext, parentComponent)\n}\n\nexport function getContextByContextType (vnode: FullComponent, parentContext: ParentContext) {\n  const contextType = vnode.type.contextType\n  const hasContextType = !isUndefined(contextType)\n  const provider = hasContextType ? (parentContext[contextType._id]) : null\n  const context = hasContextType\n    ? (\n      !isNullOrUndef(provider) ? provider.value : contextType._defaultValue\n    )\n    : parentContext\n  return context\n}\n\nexport function mountComponent (\n  vnode: FullComponent,\n  parentContext: ParentContext,\n  parentComponent\n) {\n  const ref = vnode.ref\n  if (vnode.type.prototype && vnode.type.prototype.render) {\n    const context = getContextByContextType(vnode, parentContext)\n    vnode.component = new vnode.type(vnode.props, context)\n  } else {\n    const c = new Component(vnode.props, parentContext)\n    c.render = () => vnode.type.call(c, c.props, c.context)\n    vnode.component = c\n  }\n  const component = vnode.component\n  component.vnode = vnode\n  if (isComponent(parentComponent)) {\n    component._parentComponent = parentComponent as any\n  }\n  const newState = callGetDerivedStateFromProps(vnode.props, component.state, component)\n  if (!isUndefined(newState)) {\n    component.state = newState\n  }\n  if (!hasNewLifecycle(component) && isFunction(component.componentWillMount)) {\n    errorCatcher(() => {\n      (component as any).componentWillMount()\n    }, component)\n    component.state = component.getState()\n    component.clearCallBacks()\n  }\n  component._dirty = false\n  const rendered = renderComponent(component)\n  rendered.parentVNode = vnode\n  component._rendered = rendered\n  if (!isNullOrUndef(ref)) {\n    Ref.attach(vnode, ref, vnode.dom as Element)\n  }\n  const dom = (vnode.dom = mountVNode(\n    rendered,\n    getChildContext(component, parentContext),\n    component\n  ) as Element)\n  invokeEffects(component)\n  if (isFunction(component.componentDidMount)) {\n    readyComponents.push(component)\n  }\n  component._disable = false\n  return dom\n}\n\nexport function getChildContext (component, context = EMPTY_OBJ) {\n  if (isFunction(component.getChildContext)) {\n    return extend(clone(context), component.getChildContext())\n  }\n  return clone(context)\n}\n\nexport function renderComponent (component: Component<any, any>) {\n  CurrentOwner.current = component\n  CurrentOwner.index = 0\n  invokeEffects(component, true)\n  let rendered\n  errorCatcher(() => {\n    rendered = component.render()\n  }, component)\n  rendered = ensureVirtualNode(rendered)\n  CurrentOwner.current = null\n  return rendered\n}\n\nexport function flushMount () {\n  if (!readyComponents.length) {\n    return\n  }\n  // @TODO: perf\n  const queue = readyComponents.slice(0)\n  readyComponents.length = 0\n  queue.forEach((item) => {\n    if (isFunction(item)) {\n      item()\n    } else if (item.componentDidMount) {\n      errorCatcher(() => {\n        item.componentDidMount()\n      }, item)\n    }\n  })\n}\n\nfunction getFragmentHostNode (children: VNode[]): Node | null {\n  const child = children[0]\n  if (isArray(child)) {\n    return getFragmentHostNode(child)\n  } else if (isComposite(child) && child.dom == null) {\n    return getFragmentHostNode(child.component._rendered)\n  }\n  return child != null ? child.dom : null\n}\n\nexport function reRenderComponent (\n  prev: CompositeComponent,\n  current: CompositeComponent\n) {\n  const component = (current.component = prev.component) as any\n  const nextProps = current.props\n  const nextContext = current.context\n  component._disable = true\n  if (!hasNewLifecycle(component) && isFunction(component.componentWillReceiveProps)) {\n    errorCatcher(() => {\n      component.componentWillReceiveProps(nextProps, nextContext)\n    }, component)\n  }\n  component._disable = false\n  component.prevProps = component.props\n  component.prevState = component.state\n  component.prevContext = component.context\n  component.props = nextProps\n  component.context = nextContext\n  if (!isNullOrUndef(current.ref)) {\n    Ref.update(prev, current)\n  }\n  return updateComponent(component)\n}\n\nfunction callShouldComponentUpdate (props, state, context, component) {\n  let shouldUpdate = true\n  errorCatcher(() => {\n    shouldUpdate = component.shouldComponentUpdate(props, state, context)\n  }, component)\n  return shouldUpdate\n}\n\nexport function updateComponent (component, isForce = false) {\n  let vnode = component.vnode\n  let dom = vnode.dom\n  const props = component.props\n  let state = component.getState()\n  const context = component.context\n  const prevProps = component.prevProps || props\n  const prevState = component.prevState || component.state\n  const prevContext = component.prevContext || context\n\n  const stateFromProps = callGetDerivedStateFromProps(props, state, component)\n\n  if (!isUndefined(stateFromProps)) {\n    state = stateFromProps\n  }\n\n  component.props = prevProps\n  component.context = prevContext\n  let skip = false\n  const onSCU = props.onShouldComponentUpdate\n  if (\n    !isForce &&\n    (\n      (isFunction(component.shouldComponentUpdate) &&\n      callShouldComponentUpdate(props, state, context, component) === false) ||\n      (isFunction(onSCU) && onSCU(prevProps, props) === false)\n    )\n  ) {\n    skip = true\n  } else if (!hasNewLifecycle(component) && isFunction(component.componentWillUpdate)) {\n    errorCatcher(() => {\n      component.componentWillUpdate(props, state, context)\n    }, component)\n  }\n\n  if (!isUndefined(stateFromProps)) {\n    component.state = stateFromProps\n  }\n\n  component.props = props\n  component.state = state\n  component.context = context\n  component._dirty = false\n  if (!skip) {\n    const lastRendered = component._rendered\n    const rendered = renderComponent(component)\n    rendered.parentVNode = vnode\n    const childContext = getChildContext(component, context)\n    const snapshot = callGetSnapshotBeforeUpdate(prevProps, prevState, component)\n    let parentDom = lastRendered.dom && lastRendered.dom.parentNode\n    if (isArray(lastRendered)) {\n      const hostNode = getFragmentHostNode(lastRendered)\n      if (hostNode != null) {\n        parentDom = (lastRendered as any).dom = hostNode.parentNode\n      }\n    }\n    dom = vnode.dom = patch(lastRendered, rendered, parentDom || null, childContext)\n    component._rendered = rendered\n    if (isFunction(component.componentDidUpdate)) {\n      errorCatcher(() => {\n        component.componentDidUpdate(prevProps, prevState, snapshot)\n      }, component)\n    }\n    while (vnode = vnode.parentVNode) {\n      if ((vnode.vtype & (VType.Composite)) > 0) {\n        vnode.dom = dom\n      }\n    }\n  }\n  component.prevProps = component.props\n  component.prevState = component.state\n  component.prevContext = component.context\n  component.clearCallBacks()\n  flushMount()\n  invokeEffects(component)\n  return dom\n}\n\nexport function unmountComponent (vnode: FullComponent) {\n  const component = vnode.component\n  component.hooks.forEach((hook) => {\n    if (isFunction(hook.cleanup)) {\n      hook.cleanup()\n    }\n  })\n  if (isFunction(component.componentWillUnmount)) {\n    errorCatcher(() => {\n      (component as any).componentWillUnmount()\n    }, component)\n  }\n  component._disable = true\n  unmount(component._rendered)\n  if (!isNullOrUndef(vnode.ref)) {\n    Ref.detach(vnode, vnode.ref, vnode.dom as any)\n  }\n}\n\nfunction callGetDerivedStateFromProps (props, state, inst) {\n  const { getDerivedStateFromProps } = inst.constructor\n  let newState\n    // @TODO show warning\n  errorCatcher(() => {\n    if (isFunction(getDerivedStateFromProps)) {\n      const partialState = getDerivedStateFromProps.call(\n        null,\n        props,\n        state\n      )\n      if (!isUndefined(partialState)) {\n        newState = extend(clone(state), partialState)\n      }\n    }\n  }, inst)\n  return newState\n}\n\nfunction callGetSnapshotBeforeUpdate (props, state, inst) {\n  const { getSnapshotBeforeUpdate } = inst\n  let snapshot\n  errorCatcher(() => {\n    if (isFunction(getSnapshotBeforeUpdate)) {\n      snapshot = getSnapshotBeforeUpdate.call(inst, props, state)\n    }\n  }, inst)\n  return snapshot\n}\n\nfunction hasNewLifecycle (component) {\n  if (isFunction(component.constructor.getDerivedStateFromProps)) {\n    return true\n  }\n  return false\n}\n","import { nextTick } from 'nerv-utils'\nimport { updateComponent } from './lifecycle'\n\nlet items: any[] = []\n\nexport function enqueueRender (component) {\n  // tslint:disable-next-line:no-conditional-assignment\n  if (!component._dirty && (component._dirty = true) && items.push(component) === 1) {\n    nextTick(rerender)\n  }\n}\n\nexport function rerender (isForce = false) {\n  let p\n  const list = items\n  items = []\n  // tslint:disable-next-line:no-conditional-assignment\n  while ((p = list.pop())) {\n    if (p._dirty) {\n      updateComponent(p, isForce)\n    }\n  }\n}\n","import { isFunction, extend, clone } from 'nerv-utils'\nimport { enqueueRender } from './render-queue'\nimport { updateComponent } from './lifecycle'\nimport {\n  Props,\n  ComponentLifecycle,\n  Refs,\n  EMPTY_OBJ,\n  Component as ComponentInst,\n  CompositeComponent,\n  EMPTY_CHILDREN\n} from 'nerv-shared'\nimport { Hook, HookEffect } from './hooks'\n\ninterface Component<P = {}, S = {}> extends ComponentLifecycle<P, S> {\n  _rendered: any\n  dom: any\n}\n\nclass Component<P, S> implements ComponentInst<P, S> {\n  public static defaultProps: {}\n  static getDerivedStateFromError? (error?): object | null\n  state: Readonly<S>\n  props: Readonly<P> & Readonly<Props>\n  prevProps: P\n  prevState: S\n  prevContext: object\n  _parentComponent: Component<any, any>\n  vnode: CompositeComponent\n  context: any\n  _dirty = true\n  _disable = true\n  _pendingStates: any[] = []\n  _pendingCallbacks: Function[] = []\n  refs: Refs\n  isReactComponent: Object\n  _afterScheduleEffect = false\n  hooks: Hook[] = []\n  effects: HookEffect[] = EMPTY_CHILDREN\n  layoutEffects: HookEffect[] = EMPTY_CHILDREN\n\n  constructor (props?: P, context?: any) {\n    if (!this.state) {\n      this.state = {} as S\n    }\n    this.props = props || ({} as P)\n    this.context = context || EMPTY_OBJ\n    this.refs = {}\n  }\n\n  setState<K extends keyof S> (\n    state:\n      | ((prevState: Readonly<S>, props: P) => Pick<S, K> | S)\n      | (Pick<S, K> | S),\n    callback?: () => void\n  ): void {\n    if (state) {\n      this._pendingStates.push(state)\n    }\n    if (isFunction(callback)) {\n      this._pendingCallbacks.push(callback)\n    }\n    if (!this._disable) {\n      enqueueRender(this)\n    }\n  }\n\n  getState () {\n    // tslint:disable-next-line:no-this-assignment\n    const { _pendingStates, state, props } = this\n    if (!_pendingStates.length) {\n      return state\n    }\n    const stateClone = clone(state)\n    const queue = _pendingStates.concat()\n    this._pendingStates.length = 0\n    queue.forEach((nextState) => {\n      if (isFunction(nextState)) {\n        nextState = nextState.call(this, state, props)\n      }\n      extend(stateClone, nextState)\n    })\n\n    return stateClone as S\n  }\n\n  clearCallBacks () {\n    // cached the length of callbacks, or callbacks may increase by calling them in the same loop\n    let len = this._pendingCallbacks.length\n    while (this._dirty ? this._pendingCallbacks.length : len) {\n      const cb = this._pendingCallbacks.shift()!\n      cb.call(this)\n      len--\n    }\n  }\n\n  forceUpdate (callback?: Function) {\n    if (isFunction(callback)) {\n      this._pendingCallbacks.push(callback)\n    }\n    updateComponent(this, true)\n  }\n\n  // tslint:disable-next-line\n  public render(nextProps?: P, nextState?, nextContext?): any {}\n}\n\nComponent.prototype.isReactComponent = EMPTY_OBJ\n\nexport default Component\n","import Component from './component'\nimport { shallowEqual } from 'nerv-utils'\n\nclass PureComponent<P, S> extends Component<P, S> {\n  isPureComponent = true\n\n  shouldComponentUpdate (nextProps: P, nextState: S) {\n    return !shallowEqual(this.props, nextProps) || !shallowEqual(this.state, nextState)\n  }\n}\n\nexport default PureComponent\n","import { noop, CompositeComponent, StatelessComponent, VirtualNode, Component } from 'nerv-shared'\n\nexport type optionsHook = (vnode: CompositeComponent | StatelessComponent) => void\n\nconst options: {\n  afterMount: optionsHook\n  afterUpdate: optionsHook\n  beforeUpdate: optionsHook\n  beforeUnmount: optionsHook\n  beforeMount: optionsHook\n  afterCreate: optionsHook\n  beforeRender: (component: Component<any, any>) => void\n  roots: VirtualNode[],\n  debug: boolean\n} = {\n    afterMount: noop,\n    afterUpdate: noop,\n    beforeUpdate: noop,\n    beforeUnmount: noop,\n    beforeRender: noop,\n    beforeMount: noop,\n    afterCreate: noop,\n    roots: [],\n    debug: false\n  }\n\nexport default options\n","import { mountVNode, flushMount } from './lifecycle'\nimport { VirtualNode, isComposite } from 'nerv-shared'\nimport { patch } from './vdom/patch'\nimport options from './options'\nimport { mountElement } from './vdom/create-element'\n\nexport function render (\n  vnode: VirtualNode,\n  container: Element,\n  callback?: Function\n) {\n  if (!container) {\n    throw new Error(`${container} should be a DOM Element`)\n  }\n  const lastVnode = (container as any)._component\n  let dom\n  options.roots.push(vnode)\n  if (lastVnode !== undefined) {\n    options.roots = options.roots.filter((item) => item !== lastVnode)\n    dom = patch(lastVnode, vnode, container, {})\n  } else {\n    dom = mountVNode(vnode, {})\n    mountElement(dom, container)\n  }\n\n  if (container) {\n    (container as any)._component = vnode\n  }\n  flushMount()\n  if (callback) {\n    callback()\n  }\n\n  return isComposite(vnode) ? vnode.component : dom\n}\n","import {\n  Props,\n  VType,\n  VNode,\n  VirtualChildren,\n  Component,\n  EMPTY_OBJ\n} from 'nerv-shared'\n\nfunction createVNode (\n  type: string,\n  props: Props,\n  children: VirtualChildren,\n  key,\n  namespace: string,\n  owner: Component<any, any>,\n  ref: Function | string | null | undefined\n): VNode {\n  return {\n    type,\n    key: key || null,\n    vtype: VType.Node,\n    props: props || EMPTY_OBJ,\n    children,\n    namespace: namespace || null,\n    _owner: owner,\n    dom: null,\n    ref: ref || null\n  }\n}\n\nexport default createVNode\n","import createVNode from './create-vnode'\nimport createVText from './create-vtext'\nimport { createVoid } from './create-void'\nimport {\n  Props,\n  VirtualChildren,\n  VirtualNode,\n  isValidElement,\n  EMPTY_CHILDREN,\n  VNode\n} from 'nerv-shared'\nimport { isString, isArray, isNumber } from 'nerv-utils'\n\nfunction h (type: string, props: Props, children?: VirtualChildren) {\n  let childNodes\n  if (props.children) {\n    if (!children) {\n      children = props.children\n    }\n  }\n  if (isArray(children)) {\n    childNodes = []\n    addChildren(childNodes, children as any, type)\n  } else if (isString(children) || isNumber(children)) {\n    children = createVText(String(children))\n  } else if (!isValidElement(children)) {\n    children = EMPTY_CHILDREN\n  }\n  props.children = childNodes !== undefined ? childNodes : children\n  return createVNode(\n    type,\n    props,\n    props.children as any[],\n    props.key,\n    props.namespace,\n    props.owner,\n    props.ref\n  ) as VNode\n}\n\nfunction addChildren (\n  childNodes: VirtualNode[],\n  children: VirtualNode | VirtualNode[],\n  type: string\n) {\n  if (isString(children) || isNumber(children)) {\n    childNodes.push(createVText(String(children)))\n  } else if (isValidElement(children)) {\n    childNodes.push(children)\n  } else if (isArray(children)) {\n    for (let i = 0; i < children.length; i++) {\n      addChildren(childNodes, children[i], type)\n    }\n  } else {\n    childNodes.push(createVoid())\n  }\n}\n\nexport default h\n","import { VType, CompositeComponent, Ref } from 'nerv-shared'\nimport {\n  mountComponent,\n  reRenderComponent,\n  unmountComponent,\n  getContextByContextType\n} from './lifecycle'\nimport Component from './component'\nimport { isUndefined, isArray } from 'nerv-utils'\nimport options from './options'\n\nclass ComponentWrapper implements CompositeComponent {\n  vtype = VType.Composite\n  type: any\n  name: string\n  _owner: any\n  props: any\n  component: Component<any, any>\n  context: any\n  key: any\n  dom: Element | null\n  _rendered: any\n  ref: Ref\n\n  constructor (type, props) {\n    this.type = type\n    this.name = type.name\n    if (isUndefined(this.name)) {\n      const names = type.toString().match(/^function\\s*([^\\s(]+)/)\n      this.name = isArray(names) ? names[0] : 'Component'\n    }\n    type.displayName = this.name\n    this._owner = props.owner\n    delete props.owner\n    if ((this.ref = props.ref)) {\n      delete props.ref\n    }\n    if (type._forwarded) {\n      if (!isUndefined(this.ref)) {\n        props.ref = this.ref\n      }\n      delete this.ref\n    }\n    this.props = props\n    this.key = props.key || null\n    this.dom = null\n    options.afterCreate(this)\n  }\n\n  init (parentContext, parentComponent) {\n    options.beforeMount(this)\n    const dom = mountComponent(this, parentContext, parentComponent)\n    options.afterMount(this)\n    return dom\n  }\n\n  update (previous, current, parentContext, domNode?) {\n    this.context = getContextByContextType(this, parentContext)\n    options.beforeUpdate(this)\n    const dom = reRenderComponent(previous, this)\n    options.afterUpdate(this)\n    return dom\n  }\n\n  destroy () {\n    options.beforeUnmount(this)\n    unmountComponent(this)\n  }\n}\n\nexport default ComponentWrapper\n","import h from './vdom/h'\nimport { isFunction, isString, isUndefined } from 'nerv-utils'\nimport FullComponent from './full-component'\n// import StatelessComponent from './stateless-component'\nimport CurrentOwner from './current-owner'\nimport {\n  Props,\n  VNode,\n  VirtualChildren,\n  EMPTY_CHILDREN\n} from 'nerv-shared'\nimport SVGPropertyConfig from './vdom/svg-property-config'\nimport Component from './component'\n\nfunction transformPropsForRealTag (type: string, props: Props) {\n  const newProps: Props = {}\n  for (const propName in props) {\n    const propValue = props[propName]\n    if (propName === 'defaultValue') {\n      newProps.value = props.value || props.defaultValue\n      continue\n    }\n    const svgPropName = SVGPropertyConfig.DOMAttributeNames[propName]\n    if (svgPropName && svgPropName !== propName) {\n      newProps[svgPropName] = propValue\n      continue\n    }\n    newProps[propName] = propValue\n  }\n  return newProps\n}\n\n/**\n *\n * @param props\n * @param defaultProps\n * defaultProps should respect null but ignore undefined\n * @see: https://facebook.github.io/react/docs/react-component.html#defaultprops\n */\nfunction transformPropsForComponent (props: Props, defaultProps?: Props) {\n  const newProps: any = {}\n  for (const propName in props) {\n    const propValue = props[propName]\n    newProps[propName] = propValue\n  }\n  if (defaultProps) {\n    for (const propName in defaultProps) {\n      if (isUndefined(newProps[propName])) {\n        newProps[propName] = defaultProps[propName]\n      }\n    }\n  }\n  return newProps\n}\n\nfunction createElement<T> (\n  type: string | Function | Component<any, any>,\n  properties?: T & Props | null,\n  ..._children: Array<VirtualChildren | null>\n) {\n  let children: any = _children\n  if (_children) {\n    if (_children.length === 1) {\n      children = _children[0]\n    } else if (_children.length === 0) {\n      children = undefined\n    }\n  }\n  let props\n  if (isString(type)) {\n    props = transformPropsForRealTag(type, properties as Props)\n    props.owner = CurrentOwner.current\n    return h(type, props, children as any) as VNode\n  } else if (isFunction(type)) {\n    props = transformPropsForComponent(\n      properties as any,\n      (type as any).defaultProps\n    )\n    if (!props.children || props.children === EMPTY_CHILDREN) {\n      props.children = children || children === 0 ? children : EMPTY_CHILDREN\n    }\n    props.owner = CurrentOwner.current\n    return new FullComponent(type, props)\n  }\n  return type\n}\n\nexport default createElement\n","import createElement from './create-element'\nimport createVText from './vdom/create-vtext'\nimport { extend, clone, isArray, isString, isNumber } from 'nerv-utils'\nimport { isVText, isVNode, EMPTY_CHILDREN, VType, isNullOrUndef, isPortal, isInvalid } from 'nerv-shared'\nimport { createVoid } from './vdom/create-void'\n\nexport default function cloneElement (vnode, props?: object, ...children): any {\n  if (isVText(vnode)) {\n    return createVText(vnode.text)\n  }\n  if (isString(vnode) || isNumber(vnode)) {\n    return createVText(vnode)\n  }\n  if (isInvalid(vnode)\n    || (!isInvalid(vnode) && isPortal(vnode.vtype, vnode))\n    || (vnode && (vnode.vtype & VType.Void))) {\n    return createVoid()\n  }\n  const properties = clone(extend(clone(vnode.props), props))\n  if (vnode.namespace) {\n    properties.namespace = vnode.namespace\n  }\n  if ((vnode.vtype & VType.Composite) && !isNullOrUndef(vnode.ref)) {\n    properties.ref = vnode.ref\n  }\n  let childrenTmp =\n    (arguments.length > 2 ?\n      [].slice.call(arguments, 2) :\n      vnode.children || properties.children) || []\n  if (childrenTmp.length) {\n    if (childrenTmp.length === 1) {\n      childrenTmp = children[0]\n    }\n  }\n  if (isArray(vnode)) {\n    return vnode.map((item) => {\n      return cloneElement(item)\n    })\n  }\n  const newVNode = createElement(vnode.type, properties)\n  if (isArray(childrenTmp)) {\n    let _children = childrenTmp.map((child) => {\n      return cloneElement(child, child.props)\n    })\n    if (_children.length === 0) {\n      _children = EMPTY_CHILDREN\n    }\n    if (isVNode(newVNode)) {\n      newVNode.children = _children\n    }\n    newVNode.props.children = _children\n  } else if (childrenTmp) {\n    if (isVNode(newVNode)) {\n      newVNode.children = cloneElement(childrenTmp)\n    }\n    newVNode.props.children = cloneElement(childrenTmp, childrenTmp.props)\n  }\n  return newVNode\n}\n","import { isArray } from 'nerv-utils'\nimport {\n  isNullOrUndef,\n  VirtualChildren,\n  EMPTY_CHILDREN,\n  isInvalid\n} from 'nerv-shared'\n\nexport type IterateFn = (\n  value: VirtualChildren | any,\n  index: number,\n  array: Array<VirtualChildren | any>\n) => any\n\nexport const Children = {\n  map (children: Array<VirtualChildren | any>, fn: IterateFn, ctx: any): any[] {\n    if (isNullOrUndef(children)) {\n      return children\n    }\n    children = Children.toArray(children)\n    if (ctx && ctx !== children) {\n      fn = fn.bind(ctx)\n    }\n    return children.map(fn)\n  },\n  forEach (\n    children: Array<VirtualChildren | any>,\n    fn: IterateFn,\n    ctx: any\n  ): void {\n    if (isNullOrUndef(children)) {\n      return\n    }\n    children = Children.toArray(children)\n    if (ctx && ctx !== children) {\n      fn = fn.bind(ctx)\n    }\n    for (let i = 0, len = children.length; i < len; i++) {\n      const child = isInvalid(children[i]) ? null : children[i]\n\n      fn(child, i, children)\n    }\n  },\n  count (children: Array<VirtualChildren | any>): number {\n    children = Children.toArray(children)\n    return children.length\n  },\n  only (children: Array<VirtualChildren | any>): VirtualChildren | any {\n    children = Children.toArray(children)\n    if (children.length !== 1) {\n      throw new Error('Children.only() expects only one child.')\n    }\n    return children[0]\n  },\n  toArray (\n    children: Array<VirtualChildren | any>\n  ): Array<VirtualChildren | any> {\n    if (isNullOrUndef(children)) {\n      return []\n    }\n    if (isArray(children)) {\n      const result = []\n\n      flatten(children, result)\n\n      return result\n    }\n    return EMPTY_CHILDREN.concat(children)\n  }\n}\n\nfunction flatten (arr, result) {\n  for (let i = 0, len = arr.length; i < len; i++) {\n    const value = arr[i]\n    if (isArray(value)) {\n      flatten(value, result)\n    } else {\n      result.push(value)\n    }\n  }\n  return result\n}\n","// tslint:disable:no-conditional-assignment\nimport { render } from './render'\n\nexport function hydrate (vnode, container: Element, callback?: Function) {\n  if (container !== null) {\n    // lastChild causes less reflow than firstChild\n    let dom = container.lastChild as Element\n    // there should be only a single entry for the root\n    while (dom) {\n      const next = dom.previousSibling\n      container.removeChild(dom)\n      dom = next as Element\n    }\n    return render(vnode, container, callback)\n  }\n}\n","import { VirtualNode, VType, Portal } from 'nerv-shared'\n\nexport function createPortal (children: VirtualNode, container: Element): Portal {\n  return {\n    type: container,\n    vtype: VType.Portal,\n    children,\n    dom: null\n  }\n}\n","// some library check React version\n// see: https://github.com/NervJS/nerv/issues/46\nexport const version = '15.4.2'\n","import { isValidElement as isValidNervElement, VType, isComponent, isInvalid } from 'nerv-shared'\nimport { nextTick } from 'nerv-utils'\nimport { getChildContext } from './lifecycle'\nimport { render } from './render'\nimport { unmount } from './vdom/unmount'\nimport createElement from './create-element'\nimport Component from './component'\n\nexport function unmountComponentAtNode (dom) {\n  const component = dom._component\n  if (isValidNervElement(component)) {\n    unmount(component, dom)\n    delete dom._component\n    return true\n  }\n  return false\n}\n\nexport function findDOMNode (component) {\n  if (isInvalid(component)) {\n    return null\n  }\n  return isComponent(component)\n    ? component.vnode.dom\n    : isValidNervElement(component)\n      ? component.dom : component\n}\n\nexport function createFactory (type) {\n  return createElement.bind(null, type)\n}\n\nclass WrapperComponent<P, S> extends Component<P, S> {\n  getChildContext () {\n    // tslint:disable-next-line\n    return this.props.context\n  }\n\n  render () {\n    return this.props.children\n  }\n}\n\nexport function unstable_renderSubtreeIntoContainer (\n  parentComponent,\n  vnode,\n  container,\n  callback\n) {\n  // @TODO: should handle props.context?\n  const wrapper = createElement(\n    WrapperComponent,\n    { context: getChildContext(parentComponent, parentComponent.context) },\n    vnode\n  )\n  const rendered = render(wrapper as any, container)\n  if (callback) {\n    callback.call(rendered)\n  }\n  return rendered\n}\n\nexport function isValidElement (element) {\n  return (\n    isValidNervElement(element) && (element.vtype & (VType.Composite | VType.Node)) > 0\n  )\n}\n\nexport const unstable_batchedUpdates = nextTick\n","import { noop } from 'nerv-shared'\nconst shim = noop as any\nshim.isRequired = noop\n\nfunction getShim () {\n  return shim\n}\n\nconst PropTypes = {\n  array: shim,\n  bool: shim,\n  func: shim,\n  number: shim,\n  object: shim,\n  string: shim,\n\n  any: shim,\n  arrayOf: getShim,\n  element: shim,\n  instanceOf: getShim,\n  node: shim,\n  objectOf: getShim,\n  oneOf: getShim,\n  oneOfType: getShim,\n  shape: getShim,\n  exact: getShim,\n  PropTypes: {},\n  checkPropTypes: noop\n}\n\nPropTypes.PropTypes = PropTypes\n\nexport { PropTypes }\n","export interface RefObject<T> {\n  current?: T\n}\n\nexport function createRef<T> (): RefObject<T> {\n  return {}\n}\n\nexport function forwardRef (cb: Function): Function {\n  const fn = (props) => {\n    const ref = props.ref\n    delete props.ref\n    return cb(props, ref)\n  }\n  fn._forwarded = true\n  return fn\n}\n","import { shallowEqual, isFunction } from 'nerv-utils'\nimport Ref from './vdom/ref'\nimport createElement from './create-element'\nimport Component from './component'\n\nexport function memo (component: Function, propsAreEqual?: Function) {\n  function shouldComponentUpdate (this: Component, nextProps): boolean {\n    const prevRef = this.props.ref\n    const nextRef = nextProps.ref\n    if (prevRef !== nextRef) {\n      Ref.detach(this.vnode, prevRef, this.dom)\n      Ref.attach(this.vnode, nextRef, this.dom)\n      return true\n    }\n    return isFunction(propsAreEqual) ? !propsAreEqual(this.props, nextProps) : !shallowEqual(this.props, nextProps)\n  }\n\n  function Memoed (this: Component, props) {\n    this.shouldComponentUpdate = shouldComponentUpdate\n    return createElement(component, { ...props })\n  }\n\n  Memoed._forwarded = true\n\n  Memoed.isMemo = true\n\n  return Memoed\n}\n","class Emiter<T> {\n  public value: T\n  private handlers: Function[] = []\n\n  constructor (value: T) {\n    this.value = value\n  }\n\n  on (handler: Function) {\n    this.handlers.push(handler)\n  }\n\n  off (handler: Function) {\n    this.handlers = this.handlers.filter((h) => h !== handler)\n  }\n\n  set (value: T) {\n    this.value = value\n    this.handlers.forEach((h) => h(this.value))\n  }\n}\n\nexport {\n  Emiter\n}\n","import { Emiter } from './emiter'\nimport Component from './component'\nimport { isUndefined, objectIs } from 'nerv-utils'\n\nexport let uid = 0\n\nfunction onlyChild (children) {\n  return Array.isArray(children) ? children[0] : children\n}\n\nexport interface ProviderProps<T> {\n  value: T\n}\n\nexport interface ConsumerProps {\n  children: Function\n}\n\nexport interface ConsumerState<T> {\n  value: T\n}\n\nexport interface Context<T> {\n  Provider: Component<ProviderProps<T>>\n  Consumer: Component<ConsumerProps, ConsumerState<T>>\n  _id: string,\n  _defaultValue: T\n}\n\nexport function createContext<T> (defaultValue: T): Context<T> {\n  const contextProp = '__context_' + uid++ + '__'\n\n  class Provider extends Component<ProviderProps<T>> {\n    static isContextProvider = true\n\n    emiter = new Emiter(this.props.value)\n\n    getChildContext () {\n      return {\n        [contextProp]: this.emiter\n      }\n    }\n\n    componentWillReceiveProps (nextProps: ProviderProps<T>) {\n      if (!objectIs(this.props.value, nextProps.value)) {\n        this.emiter.set(nextProps.value)\n      }\n    }\n\n    render () {\n      return this.props.children\n    }\n  }\n\n  // tslint:disable-next-line: max-classes-per-file\n  class Consumer extends Component<ConsumerProps, ConsumerState<T>> {\n    static isContextConsumer = true\n    state = {\n      value: this.getContextValue()\n    }\n\n    context: {\n      [contextProp: string]: Emiter<T> | undefined\n    }\n\n    componentWillMount () {\n      const emiter = this.context[contextProp]\n      if (emiter) {\n        emiter.off(this.onUpdate)\n      }\n    }\n\n    componentDidMount () {\n      const emiter = this.context[contextProp]\n      if (emiter) {\n        emiter.on(this.onUpdate)\n      }\n    }\n\n    onUpdate = (value: T) => {\n      if (!objectIs(value, this.state.value)) {\n        this.setState({\n          value: this.getContextValue()\n        })\n      }\n    }\n\n    getContextValue (): T {\n      const emiter = this.context[contextProp]\n      return isUndefined(emiter) ? defaultValue : emiter.value\n    }\n\n    render () {\n      return onlyChild(this.props.children)(this.state.value)\n    }\n  }\n\n  return {\n    Provider,\n    Consumer,\n    _id: contextProp,\n    _defaultValue: defaultValue\n  } as any\n}\n","export function Fragment (props) {\n  return props.children\n}\n","import Component from './component'\nimport PureComponent from './pure-component'\nimport { render } from './render'\nimport createElement from './create-element'\nimport cloneElement from './clone-element'\nimport { nextTick } from 'nerv-utils'\nimport { Children } from './children'\nimport { hydrate } from './hydrate'\nimport options from './options'\nimport { createPortal } from './vdom/create-portal'\nimport { version } from './version'\nimport {\n  unmountComponentAtNode,\n  findDOMNode,\n  unstable_renderSubtreeIntoContainer,\n  createFactory,\n  unstable_batchedUpdates,\n  isValidElement\n} from './dom'\nimport { PropTypes } from './prop-types' // for React 15- compat\n// tslint:disable-next-line: max-line-length\nimport { getHooks, useEffect, useLayoutEffect, useReducer, useState, useRef, useCallback, useMemo, useImperativeHandle, useContext } from './hooks'\nimport { createRef, forwardRef } from './create-ref'\nimport { memo } from './memo'\nimport { createContext } from './create-context'\nimport { renderComponent } from './lifecycle'\nimport Current from './current-owner'\nimport { Fragment } from './fragment'\n\nexport {\n  Children,\n  Component,\n  PureComponent,\n  createElement,\n  cloneElement,\n  render,\n  nextTick,\n  options,\n  findDOMNode,\n  isValidElement,\n  unmountComponentAtNode,\n  createPortal,\n  unstable_renderSubtreeIntoContainer,\n  hydrate,\n  createFactory,\n  unstable_batchedUpdates,\n  version,\n  PropTypes,\n  createRef,\n  forwardRef,\n  memo,\n  createContext,\n  renderComponent,\n  getHooks,\n  Current,\n  Fragment,\n  useEffect, useLayoutEffect, useReducer, useState, useRef, useCallback, useMemo, useImperativeHandle, useContext\n}\n\nexport default {\n  Children,\n  Component,\n  PureComponent,\n  createElement,\n  cloneElement,\n  render,\n  nextTick,\n  options,\n  findDOMNode,\n  isValidElement,\n  unmountComponentAtNode,\n  createPortal,\n  unstable_renderSubtreeIntoContainer,\n  hydrate,\n  createFactory,\n  unstable_batchedUpdates,\n  version,\n  PropTypes,\n  createRef,\n  forwardRef,\n  memo,\n  createContext,\n  renderComponent,\n  getHooks,\n  Current,\n  useEffect, useLayoutEffect, useReducer, useState, useRef, useCallback, useMemo, useImperativeHandle, useContext,\n  Fragment\n}\n"],"names":["global","local","let","self","Function","e","Error","const","isBrowser","window","noop","fakeDoc","doc","document","UA","navigator","userAgent","toLowerCase","isMacSafari","platform","test","isTaro","scripts","isIE9","indexOf","isiOS","isNumber","arg","isSupportSVG","isFunction","createAttributeNS","isString","isBoolean","isArray","Array","isObject","Object","isUndefined","o","undefined","objectIs","x","y","canUsePromise","resolved","Promise","resolve","nextTick","fn","bind","args","then","timerFunc","requestAnimationFrame","setTimeout","is","shallowEqual","obj1","obj2","obj1Keys","keys","obj2Keys","length","i","obj1KeyItem","hasOwnProperty","SimpleMap","cache","size","set","k","v","len","push","item","this","get","has","splice","clear","pop","MapClass","Map","isAttrAnEvent","attr","extend","source","from","assign","key","clone","obj","Current","EMPTY_CHILDREN","EMPTY_OBJ","isNullOrUndef","isInvalid","isVNode","node","vtype","isVText","isComponent","instance","isReactComponent","isPortal","isComposite","isValidElement","VType","lastVnode","nextVnode","domNode","prevRef","ref","nextRef","detach","dom","attach","vnode","component","componentForCatcher","inst","_owner","render","refs","current","defaultOptions","eventListenerOptionsSupported","supported","opts","defineProperty","addEventListener","removeEventListener","getDefaultPassiveOption","passiveOption","getPassiveOption","supportedPassiveEventMap","ONINPUT","ONPROPERTYCHANGE","delegatedEvents","unbubbleEvents","bindFocus","elements","values","el","activeElement","detectCanUseOnInputNode","index","element","value","ev","createEvent","initCustomEvent","dispatchEvent","Event","prototype","persist","attachEvent","eventName","handler","fixEvent","delegatedRoots","event","attachEventToNode","attachEventToDocument","onclick","items","detachEvent","parseEventName","delegatedRootsSize","propertyChangeActiveElement","propertyChangeActiveElementValue","propertyChangeActiveElementValueProp","propertyChangeActiveHandlers","propertyChangeHandler","propertyName","target","srcElement","val","name","call","processOnPropertyChangeEvent","unbindOnPropertyChange","bindOnPropertyChange","getOwnPropertyDescriptor","constructor","nodeName","type","substr","stopPropagation","cancelBubble","stopImmediatePropagation","count","eventData","eventsToTrigger","currentTarget","defineProperties","parentDom","parentNode","nodeType","disabled","d","eventHandler","error","parsedEventName","eventToTrigger","unmountChildren","children","unmount","destroy","props","propName","removeChild","NS","ATTRS","SVGPropertyConfig","xlink","xml","forEach","Properties","DOMAttributeNames","patch","context","isSvg","lastDom","newDom","lastVnodeIsArray","nextVnodeisArray","isSameVNode","update","patchVText","createElement","newDomIsArray","lastDomIsArray","insertBefore","replaceChild","appendChild","patchArrayChildren","lastChildren","nextChildren","lastLength","nextLength","textContent","isKeyed","patchChildren","lastChildrenIsArray","nextChildrenIsArray","patchNonKeyedChildren","minLength","Math","min","refVnode","nextSibling","patchKeyedChildren","a","b","aLength","bLength","aEnd","bEnd","aStart","bStart","j","aNode","bNode","nextNode","nextPos","aStartNode","bStartNode","aEndNode","bEndNode","outer","aLeft","bLeft","sources","moved","pos","patched","keyIndex","seq","lis","attachNewNode","newNode","p","slice","result","u","il","c","lastVNode","nextVNode","nextText","text","nodeValue","skipProps","IS_NON_DIMENSIONAL","setStyle","domStyle","style","isNaN","patchEvent","lastEvent","nextEvent","patchStyle","lastAttrValue","nextAttrValue","cssText","patchProp","prop","lastValue","nextValue","className","lastHtml","__html","nextHtml","innerHTML","removeAttribute","namespace","DOMAttributeNamespaces","setAttributeNS","colonPosition","localName","removeAttributeNS","setAttribute","setProperty","patchProps","nextProps","previousProps","SVG_NAMESPACE","parentContext","parentComponent","init","createTextNode","mountVNode","map","child","createElementNS","mountChild","childNode","mountElement","refChild","insertElement","setProps","createVText","createVoid","getHooks","hooks","useState","initialState","hook","state","action","_disable","setState","useReducer","reducer","initializer","areDepsChanged","prevDeps","deps","some","invokeEffects","delay","effects","layoutEffects","cleanup","effect","scheduleEffectComponents","invokeScheduleEffects","_afterScheduleEffect","useEffectImpl","concat","useEffect","useLayoutEffect","useRef","initialValue","useMemo","factory","callback","useCallback","useContext","provider","_id","_defaultValue","on","enqueueRender","useImperativeHandle","readyComponents","errorCatcher","errorHandler","boundary","getDerivedStateFromError","componentDidCatch","_parentComponent","ensureVirtualNode","rendered","getContextByContextType","contextType","hasContextType","mountComponent","Component","newState","callGetDerivedStateFromProps","hasNewLifecycle","componentWillMount","getState","clearCallBacks","_dirty","renderComponent","parentVNode","_rendered","getChildContext","componentDidMount","flushMount","queue","getFragmentHostNode","reRenderComponent","prev","nextContext","componentWillReceiveProps","prevProps","prevState","prevContext","updateComponent","callShouldComponentUpdate","shouldUpdate","shouldComponentUpdate","isForce","stateFromProps","skip","onSCU","onShouldComponentUpdate","componentWillUpdate","lastRendered","childContext","snapshot","callGetSnapshotBeforeUpdate","hostNode","componentDidUpdate","unmountComponent","componentWillUnmount","getDerivedStateFromProps","partialState","getSnapshotBeforeUpdate","rerender","list","_pendingStates","_pendingCallbacks","stateClone","nextState","cb","shift","forceUpdate","PureComponent","options","container","_component","roots","filter","createVNode","owner","h","childNodes","String","addChildren","ComponentWrapper","names","toString","match","displayName","_forwarded","afterCreate","beforeMount","afterMount","previous","beforeUpdate","afterUpdate","beforeUnmount","transformPropsForRealTag","newProps","propValue","defaultValue","svgPropName","transformPropsForComponent","defaultProps","properties","_children","CurrentOwner","FullComponent","cloneElement","childrenTmp","arguments","newVNode","Children","ctx","toArray","flatten","arr","hydrate","lastChild","next","previousSibling","createPortal","version","unmountComponentAtNode","isValidNervElement","findDOMNode","createFactory","WrapperComponent","unstable_renderSubtreeIntoContainer","wrapper","unstable_batchedUpdates","shim","isRequired","getShim","PropTypes","createRef","forwardRef","memo","propsAreEqual","Memoed","isMemo","Emiter","handlers","off","uid","onlyChild","createContext","contextProp","Provider","emiter","Consumer","getContextValue","onUpdate","Fragment"],"mappings":"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"}